{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:23:21.574825Z",
          "start_time": "2025-07-27T17:23:20.660574Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:30:54.847724Z",
          "iopub.execute_input": "2026-01-03T15:30:54.847881Z",
          "shell.execute_reply": "2026-01-03T15:30:55.424283Z",
          "iopub.status.idle": "2026-01-03T15:30:55.424741Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "model = Network('MRP')\n# Block 1: nodes\ndelay = Delay(model, 'WorkingState')\nqueue = Queue(model, 'RepairQueue', SchedStrategy.FCFS)\nqueue.set_number_of_servers(2)\n# Block 2: classes\ncclass = ClosedClass(model, 'Machines', 3, delay)\ndelay.set_service(cclass, Exp(0.5))\nqueue.set_service(cclass, Exp(4.0))\n# Block 3: topology\nmodel.link(Network.serial_routing(delay, queue))",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:23:21.660497Z",
          "start_time": "2025-07-27T17:23:21.634727Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:30:55.426002Z",
          "shell.execute_reply": "2026-01-03T15:30:55.428026Z",
          "iopub.execute_input": "2026-01-03T15:30:55.426167Z",
          "iopub.status.idle": "2026-01-03T15:30:55.428469Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# Block 4: solution\nsolver = CTMC(model)\nctmcAvgTable = solver.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:23:21.799424Z",
          "start_time": "2025-07-27T17:23:21.668865Z"
        },
        "collapsed": false,
        "execution": {
          "iopub.status.busy": "2026-01-03T15:30:55.430789Z",
          "iopub.execute_input": "2026-01-03T15:30:55.430927Z",
          "shell.execute_reply": "2026-01-03T15:30:55.438220Z",
          "iopub.status.idle": "2026-01-03T15:30:55.438570Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "     Station JobClass   QLen   Util  RespT  ResidT   ArvR   Tput\nWorkingState Machines 2.6648 2.6648 2.0000  2.0000 1.3324 1.3324\n RepairQueue Machines 0.3352 0.1666 0.2515  0.2515 1.3324 1.3324\n",
            "numerical_values": [
              2.6648,
              2.6648,
              2.0,
              2.0,
              1.3324,
              1.3324,
              0.3352,
              0.1666,
              0.2515,
              0.2515,
              1.3324,
              1.3324
            ]
          }
        }
      ],
      "execution_count": 3
    },
    "cell_3": {
      "cell_type": "code",
      "source": "stateSpace, nodeStateSpace = solver.state_space()\nprint(\"CTMC state space:\")\nprint(stateSpace)\nprint(nodeStateSpace)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:23:21.809818Z",
          "start_time": "2025-07-27T17:23:21.803724Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:30:55.439554Z",
          "iopub.execute_input": "2026-01-03T15:30:55.439670Z",
          "shell.execute_reply": "2026-01-03T15:30:55.441462Z",
          "iopub.status.idle": "2026-01-03T15:30:55.441853Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "CTMC state space:\n[[0. 3.]\n [1. 2.]\n [2. 1.]\n [3. 0.]]\n[array([[0.],\n       [1.],\n       [2.],\n       [3.]]), array([[3.],\n       [2.],\n       [1.],\n       [0.]])]\n",
            "numerical_values": [
              0.0,
              3.0,
              1.0,
              2.0,
              2.0,
              1.0,
              3.0,
              0.0,
              0.0,
              1.0,
              2.0,
              3.0,
              3.0,
              2.0,
              1.0,
              0.0
            ]
          }
        }
      ],
      "execution_count": 4
    },
    "cell_4": {
      "cell_type": "code",
      "source": "infGen, eventFilt = solver.generator()\nprint(\"CTMC infinitesimal generator:\")\nprint(infGen)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:23:21.881873Z",
          "start_time": "2025-07-27T17:23:21.877293Z"
        },
        "collapsed": false,
        "execution": {
          "iopub.status.busy": "2026-01-03T15:30:55.442749Z",
          "iopub.execute_input": "2026-01-03T15:30:55.442855Z",
          "shell.execute_reply": "2026-01-03T15:30:55.444486Z",
          "iopub.status.idle": "2026-01-03T15:30:55.444828Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "CTMC infinitesimal generator:\n[[-8.   8.   0.   0. ]\n [ 0.5 -8.5  8.   0. ]\n [ 0.   1.  -5.   4. ]\n [ 0.   0.   1.5 -1.5]]\n",
            "numerical_values": [
              -8.0,
              8.0,
              0.0,
              0.0,
              0.5,
              -8.5,
              8.0,
              0.0,
              0.0,
              1.0,
              -5.0,
              4.0,
              0.0,
              0.0,
              1.5,
              -1.5
            ]
          }
        }
      ],
      "execution_count": 5
    },
    "cell_5": {
      "cell_type": "code",
      "source": "CTMC.print_inf_gen(infGen, stateSpace)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:23:21.947166Z",
          "start_time": "2025-07-27T17:23:21.930736Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:30:55.445466Z",
          "iopub.execute_input": "2026-01-03T15:30:55.445549Z",
          "shell.execute_reply": "2026-01-03T15:30:55.446882Z",
          "iopub.status.idle": "2026-01-03T15:30:55.447114Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "Infinitesimal Generator (4 states):\n--------------------------------------------------\nState [0.0, 3.0] (diag: -8.0000)\n  -> [1.0, 2.0]: 8.0000\nState [1.0, 2.0] (diag: -8.5000)\n  -> [0.0, 3.0]: 0.5000\n  -> [2.0, 1.0]: 8.0000\nState [2.0, 1.0] (diag: -5.0000)\n  -> [1.0, 2.0]: 1.0000\n  -> [3.0, 0.0]: 4.0000\nState [3.0, 0.0] (diag: -1.5000)\n  -> [2.0, 1.0]: 1.5000\n",
            "numerical_values": [
              4.0,
              0.0,
              3.0,
              -8.0,
              1.0,
              2.0,
              8.0,
              1.0,
              2.0,
              -8.5,
              0.0,
              3.0,
              0.5,
              2.0,
              1.0,
              8.0,
              2.0,
              1.0,
              -5.0,
              1.0,
              2.0,
              1.0,
              3.0,
              0.0,
              4.0,
              3.0,
              0.0,
              -1.5,
              2.0,
              1.0,
              1.5
            ]
          }
        }
      ],
      "execution_count": 6
    }
  },
  "numerical_summary": {
    "cell_1": [
      1.0,
      2.0,
      2.0,
      3.0,
      0.5,
      4.0,
      3.0
    ],
    "cell_2": [
      2.6648,
      2.6648,
      2.0,
      2.0,
      1.3324,
      1.3324,
      0.3352,
      0.1666,
      0.2515,
      0.2515,
      1.3324,
      1.3324,
      4.0
    ],
    "cell_3": [
      0.0,
      3.0,
      1.0,
      2.0,
      2.0,
      1.0,
      3.0,
      0.0,
      0.0,
      1.0,
      2.0,
      3.0,
      3.0,
      2.0,
      1.0,
      0.0
    ],
    "cell_4": [
      -8.0,
      8.0,
      0.0,
      0.0,
      0.5,
      -8.5,
      8.0,
      0.0,
      0.0,
      1.0,
      -5.0,
      4.0,
      0.0,
      0.0,
      1.5,
      -1.5
    ],
    "cell_5": [
      4.0,
      0.0,
      3.0,
      -8.0,
      1.0,
      2.0,
      8.0,
      1.0,
      2.0,
      -8.5,
      0.0,
      3.0,
      0.5,
      2.0,
      1.0,
      8.0,
      2.0,
      1.0,
      -5.0,
      1.0,
      2.0,
      1.0,
      3.0,
      0.0,
      4.0,
      3.0,
      0.0,
      -1.5,
      2.0,
      1.0,
      1.5
    ]
  },
  "metadata": {
    "notebook_path": "tut03_repairmen.ipynb",
    "source_dir": "examples/gettingstarted",
    "total_cells": 6,
    "code_cells": 6,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}