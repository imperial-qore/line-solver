{
  "cell_content": {
    "cell_0": {
      "cell_type": "raw",
      "source": "BUG: Does not yet match matlab",
      "metadata": {},
      "outputs": [],
      "execution_count": null
    },
    "cell_1": {
      "cell_type": "code",
      "source": "from line_solver import *\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:23:47.798637Z",
          "start_time": "2025-07-27T17:23:46.899003Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:31:00.853159Z",
          "iopub.execute_input": "2026-01-03T15:31:00.853284Z",
          "iopub.status.idle": "2026-01-03T15:31:01.395000Z",
          "shell.execute_reply": "2026-01-03T15:31:01.394665Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_2": {
      "cell_type": "code",
      "source": "model = Network('Model')\n# Block 1: nodes\nclientDelay = Delay(model, 'Client')\ncacheNode = Cache(model, 'Cache', 1000, 50, ReplacementStrategy.LRU)\ncacheDelay = Delay(model, 'CacheDelay')",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:23:47.887182Z",
          "start_time": "2025-07-27T17:23:47.850116Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:31:01.396297Z",
          "iopub.execute_input": "2026-01-03T15:31:01.396481Z",
          "shell.execute_reply": "2026-01-03T15:31:01.397841Z",
          "iopub.status.idle": "2026-01-03T15:31:01.398107Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_3": {
      "cell_type": "code",
      "source": "# Block 2: classes\nclientClass = ClosedClass(model, 'ClientClass', 1, clientDelay, 0)\nhitClass = ClosedClass(model, 'HitClass', 0, clientDelay, 0)\nmissClass = ClosedClass(model, 'MissClass', 0, clientDelay, 0)\n\nclientDelay.set_service(clientClass, Immediate())\ncacheDelay.set_service(hitClass, Exp.fit_mean(0.2))\ncacheDelay.set_service(missClass, Exp.fit_mean(1.0))\n\ncacheNode.set_read(clientClass, Zipf(1.4, 1000))\ncacheNode.set_hit_class(clientClass, hitClass)\ncacheNode.set_miss_class(clientClass, missClass)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:23:47.963797Z",
          "start_time": "2025-07-27T17:23:47.904043Z"
        },
        "collapsed": false,
        "execution": {
          "iopub.status.busy": "2026-01-03T15:31:01.398768Z",
          "iopub.execute_input": "2026-01-03T15:31:01.398843Z",
          "shell.execute_reply": "2026-01-03T15:31:01.400421Z",
          "iopub.status.idle": "2026-01-03T15:31:01.400784Z"
        }
      },
      "outputs": [],
      "execution_count": 3
    },
    "cell_4": {
      "cell_type": "code",
      "source": "# Block 3: topology\nP = model.init_routing_matrix()\n# routing from client to cache\nP.set(clientClass, clientClass, clientDelay, cacheNode, 1.0)\n# routing out of the cache\nP.set(hitClass, hitClass, cacheNode, cacheDelay, 1.0)\nP.set(missClass, missClass, cacheNode, cacheDelay, 1.0)\n# return to the client\nP.set(hitClass, clientClass, cacheDelay, clientDelay, 1.0)\nP.set(missClass, clientClass, cacheDelay, clientDelay, 1.0)\n# routing from cacheNode\nmodel.link(P)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:23:47.983142Z",
          "start_time": "2025-07-27T17:23:47.970908Z"
        },
        "collapsed": false,
        "execution": {
          "iopub.status.busy": "2026-01-03T15:31:01.401509Z",
          "iopub.execute_input": "2026-01-03T15:31:01.401609Z",
          "iopub.status.idle": "2026-01-03T15:31:01.403523Z",
          "shell.execute_reply": "2026-01-03T15:31:01.403270Z"
        }
      },
      "outputs": [],
      "execution_count": 4
    },
    "cell_5": {
      "cell_type": "code",
      "source": "ssaAvgTablePara = SSA(model, samples=20000, seed=1, verbose=True, method='serial').avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-27T17:24:00.116433Z",
          "start_time": "2025-07-27T17:23:48.028410Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:31:01.404260Z",
          "iopub.execute_input": "2026-01-03T15:31:01.404337Z",
          "iopub.status.idle": "2026-01-03T15:31:01.407859Z",
          "shell.execute_reply": "2026-01-03T15:31:01.407587Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "SSA: No enabled transitions at sample 0\n",
            "numerical_values": [
              0.0
            ]
          }
        }
      ],
      "execution_count": 5
    }
  },
  "numerical_summary": {
    "cell_2": [
      1.0,
      1000.0,
      50.0
    ],
    "cell_4": [
      3.0,
      1.0,
      1.0,
      1.0,
      1.0,
      1.0
    ],
    "cell_5": [
      0.0,
      20000.0,
      1.0
    ]
  },
  "metadata": {
    "notebook_path": "tut06_cache_lru_zipf.ipynb",
    "source_dir": "examples/gettingstarted",
    "total_cells": 6,
    "code_cells": 5,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}