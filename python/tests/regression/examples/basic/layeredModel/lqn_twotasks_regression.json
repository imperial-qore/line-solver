{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.SILENT)\n\n# Clear variables (equivalent to MATLAB's clear solver AvgTable)\nsolver = None\nAvgTable = None",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:55.477924Z",
          "start_time": "2025-07-30T22:18:54.600749Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:33:11.799726Z",
          "iopub.execute_input": "2026-01-03T15:33:11.799833Z",
          "shell.execute_reply": "2026-01-03T15:33:12.522656Z",
          "iopub.status.idle": "2026-01-03T15:33:12.523148Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "# MATLAB: model = LayeredNetwork('myLayeredModel');\nmodel = LayeredNetwork('myLayeredModel')\n\n# definition of processors, tasks and entries\n# MATLAB: P1 = Processor(model, 'P1', 1, SchedStrategy.PS);\n# MATLAB: T1 = Task(model, 'T1', 100, SchedStrategy.REF).on(P1);\n# MATLAB: E1 = Entry(model, 'E1').on(T1);\nP1 = Processor(model, 'P1', 1, SchedStrategy.PS)\nT1 = Task(model, 'T1', 100, SchedStrategy.REF).on(P1)\nE1 = Entry(model, 'E1').on(T1)\n\n# MATLAB: P2 = Processor(model, 'P2', 1, SchedStrategy.PS);\n# MATLAB: T2 = Task(model, 'T2', 1, SchedStrategy.INF).on(P2);\n# MATLAB: E2 = Entry(model, 'E2').on(T2);\n# MATLAB: E3 = Entry(model, 'E3').on(T2);\nP2 = Processor(model, 'P2', 1, SchedStrategy.PS)\nT2 = Task(model, 'T2', 1, SchedStrategy.INF).on(P2)\nE2 = Entry(model, 'E2').on(T2)\nE3 = Entry(model, 'E3').on(T2)\n\n# definition of activities\n# MATLAB: T1.set_think_time(Erlang.fit_mean_and_order(10,1));\nT1.set_think_time(Erlang.fit_mean_and_order(10, 1))\n\n# MATLAB: A1 = Activity(model, 'A1', Exp(1)).on(T1).boundTo(E1).synchCall(E2).synchCall(E3,1);\nA1 = Activity(model, 'A1', Exp(1)).on(T1).bound_to(E1).synch_call(E2).synch_call(E3, 1)\n\n# MATLAB: A20 = Activity(model, 'A20', Exp(1)).on(T2).boundTo(E2);\n# MATLAB: A21 = Activity(model, 'A21', Exp(1)).on(T2);\n# MATLAB: A22 = Activity(model, 'A22', Exp(1)).on(T2).repliesTo(E2);\n# MATLAB: T2.add_precedence(ActivityPrecedence.Serial(A20, A21, A22));\nA20 = Activity(model, 'A20', Exp(1)).on(T2).bound_to(E2)\nA21 = Activity(model, 'A21', Exp(1)).on(T2)\nA22 = Activity(model, 'A22', Exp(1)).on(T2).replies_to(E2)\nT2.add_precedence(ActivityPrecedence.Serial(A20, A21))\nT2.add_precedence(ActivityPrecedence.Serial(A21, A22))\n\n# MATLAB: A3 = Activity(model, 'A3', Exp(1)).on(T2).boundTo(E3).repliesTo(E3);\nA3 = Activity(model, 'A3', Exp(1)).on(T2).bound_to(E3).replies_to(E3)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:55.541582Z",
          "start_time": "2025-07-30T22:18:55.528150Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:33:12.524586Z",
          "iopub.execute_input": "2026-01-03T15:33:12.524807Z",
          "shell.execute_reply": "2026-01-03T15:33:12.527797Z",
          "iopub.status.idle": "2026-01-03T15:33:12.528117Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# instantiate solvers\nsolvers = []\navg_tables = []\n\n# LQNS solver\noptions = LQNS.default_options()\noptions.keep = True\noptions.verbose = 0\nif LQNS.isAvailable():\n    solver_lqns = LQNS(model, options)\n    avg_table_lqns = solver_lqns.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:55.690507Z",
          "start_time": "2025-07-30T22:18:55.590669Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:33:12.528885Z",
          "iopub.execute_input": "2026-01-03T15:33:12.528990Z",
          "shell.execute_reply": "2026-01-03T15:33:12.550271Z",
          "iopub.status.idle": "2026-01-03T15:33:12.550677Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "Node    QLen  Util    RespT  Tput\n  P1  0.0000  0.25   0.0000  0.00\n  T1 97.5000  0.25   0.0000  0.25\n  E1 97.5000  0.25 390.0000  0.25\n  A1 97.5000  0.25 390.0000  0.25\n  P2  0.0000  1.00   0.0000  0.00\n  T2 97.1681  1.00   0.0000  0.50\n  E2 72.8761  0.75 291.5040  0.25\n  E3 24.2920  0.25  97.1682  0.25\n A20 24.2920  0.25  97.1682  0.25\n A21 24.2920  0.25  97.1682  0.25\n A22 24.2920  0.25  97.1682  0.25\n  A3 24.2920  0.25  97.1682  0.25\n",
            "numerical_values": [
              1.0,
              0.0,
              0.25,
              0.0,
              0.0,
              1.0,
              97.5,
              0.25,
              0.0,
              0.25,
              1.0,
              97.5,
              0.25,
              390.0,
              0.25,
              1.0,
              97.5,
              0.25,
              390.0,
              0.25,
              2.0,
              0.0,
              1.0,
              0.0,
              0.0,
              2.0,
              97.1681,
              1.0,
              0.0,
              0.5,
              2.0,
              72.8761,
              0.75,
              291.504,
              0.25,
              3.0,
              24.292,
              0.25,
              97.1682,
              0.25,
              20.0,
              24.292,
              0.25,
              97.1682,
              0.25,
              21.0,
              24.292,
              0.25,
              97.1682,
              0.25,
              22.0,
              24.292,
              0.25,
              97.1682,
              0.25,
              3.0,
              24.292,
              0.25,
              97.1682,
              0.25
            ]
          }
        }
      ],
      "execution_count": 3
    },
    "cell_3": {
      "cell_type": "code",
      "source": "# LN solver with NC\nlnoptions = LN.default_options()\nlnoptions.verbose = 0\nsolveroptions = NC.default_options()\nsolveroptions.verbose = 0\nsolver_nc = LN(model, lambda l: NC(l, solveroptions), lnoptions)\navg_table_nc = solver_nc.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:56.157435Z",
          "start_time": "2025-07-30T22:18:55.693271Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:33:12.551747Z",
          "iopub.execute_input": "2026-01-03T15:33:12.551890Z",
          "shell.execute_reply": "2026-01-03T15:33:12.563296Z",
          "iopub.status.idle": "2026-01-03T15:33:12.563670Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "Node  NodeType    QLen   Util    RespT   ResidT   ArvR   Tput\n  P1 Processor  1.2773 0.5679   2.2494   2.2494 0.5679 0.5679\n  P2 Processor  2.0000 1.0000   2.0000   2.0000 1.0000 1.0000\n  T2      Task 56.5368 1.0000 226.1471 226.1471 0.2500 0.2500\n  E1     Entry  1.2773 0.5679   2.2494   2.2494 0.5679 0.5679\n  E2     Entry  1.0000 0.5000   2.0000   2.0000 0.5000 0.5000\n  E3     Entry  1.0000 0.5000   2.0000   2.0000 0.5000 0.5000\n",
            "numerical_values": [
              1.0,
              1.2773,
              0.5679,
              2.2494,
              2.2494,
              0.5679,
              0.5679,
              2.0,
              2.0,
              1.0,
              2.0,
              2.0,
              1.0,
              1.0,
              2.0,
              56.5368,
              1.0,
              226.1471,
              226.1471,
              0.25,
              0.25,
              1.0,
              1.2773,
              0.5679,
              2.2494,
              2.2494,
              0.5679,
              0.5679,
              2.0,
              1.0,
              0.5,
              2.0,
              2.0,
              0.5,
              0.5,
              3.0,
              1.0,
              0.5,
              2.0,
              2.0,
              0.5,
              0.5
            ]
          }
        }
      ],
      "execution_count": 4
    },
    "cell_4": {
      "cell_type": "code",
      "source": "print(avg_table_nc)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:56.172887Z",
          "start_time": "2025-07-30T22:18:56.170038Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:33:12.566109Z",
          "iopub.execute_input": "2026-01-03T15:33:12.566233Z",
          "shell.execute_reply": "2026-01-03T15:33:12.569179Z",
          "iopub.status.idle": "2026-01-03T15:33:12.569561Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "  Node   NodeType     QLen    Util     RespT    ResidT    ArvR    Tput\n0   P1  Processor   1.2773  0.5679    2.2494    2.2494  0.5679  0.5679\n1   P2  Processor   2.0000  1.0000    2.0000    2.0000  1.0000  1.0000\n2   T2       Task  56.5368  1.0000  226.1471  226.1471  0.2500  0.2500\n3   E1      Entry   1.2773  0.5679    2.2494    2.2494  0.5679  0.5679\n4   E2      Entry   1.0000  0.5000    2.0000    2.0000  0.5000  0.5000\n5   E3      Entry   1.0000  0.5000    2.0000    2.0000  0.5000  0.5000\n",
            "numerical_values": [
              0.0,
              1.0,
              1.2773,
              0.5679,
              2.2494,
              2.2494,
              0.5679,
              0.5679,
              1.0,
              2.0,
              2.0,
              1.0,
              2.0,
              2.0,
              1.0,
              1.0,
              2.0,
              2.0,
              56.5368,
              1.0,
              226.1471,
              226.1471,
              0.25,
              0.25,
              3.0,
              1.0,
              1.2773,
              0.5679,
              2.2494,
              2.2494,
              0.5679,
              0.5679,
              4.0,
              2.0,
              1.0,
              0.5,
              2.0,
              2.0,
              0.5,
              0.5,
              5.0,
              3.0,
              1.0,
              0.5,
              2.0,
              2.0,
              0.5,
              0.5
            ]
          }
        }
      ],
      "execution_count": 5
    }
  },
  "numerical_summary": {
    "cell_2": [
      1.0,
      0.0,
      0.25,
      0.0,
      0.0,
      1.0,
      97.5,
      0.25,
      0.0,
      0.25,
      1.0,
      97.5,
      0.25,
      390.0,
      0.25,
      1.0,
      97.5,
      0.25,
      390.0,
      0.25,
      2.0,
      0.0,
      1.0,
      0.0,
      0.0,
      2.0,
      97.1681,
      1.0,
      0.0,
      0.5,
      2.0,
      72.8761,
      0.75,
      291.504,
      0.25,
      3.0,
      24.292,
      0.25,
      97.1682,
      0.25,
      20.0,
      24.292,
      0.25,
      97.1682,
      0.25,
      21.0,
      24.292,
      0.25,
      97.1682,
      0.25,
      22.0,
      24.292,
      0.25,
      97.1682,
      0.25,
      3.0,
      24.292,
      0.25,
      97.1682,
      0.25,
      0.0
    ],
    "cell_3": [
      1.0,
      1.2773,
      0.5679,
      2.2494,
      2.2494,
      0.5679,
      0.5679,
      2.0,
      2.0,
      1.0,
      2.0,
      2.0,
      1.0,
      1.0,
      2.0,
      56.5368,
      1.0,
      226.1471,
      226.1471,
      0.25,
      0.25,
      1.0,
      1.2773,
      0.5679,
      2.2494,
      2.2494,
      0.5679,
      0.5679,
      2.0,
      1.0,
      0.5,
      2.0,
      2.0,
      0.5,
      0.5,
      3.0,
      1.0,
      0.5,
      2.0,
      2.0,
      0.5,
      0.5,
      0.0,
      0.0
    ],
    "cell_4": [
      0.0,
      1.0,
      1.2773,
      0.5679,
      2.2494,
      2.2494,
      0.5679,
      0.5679,
      1.0,
      2.0,
      2.0,
      1.0,
      2.0,
      2.0,
      1.0,
      1.0,
      2.0,
      2.0,
      56.5368,
      1.0,
      226.1471,
      226.1471,
      0.25,
      0.25,
      3.0,
      1.0,
      1.2773,
      0.5679,
      2.2494,
      2.2494,
      0.5679,
      0.5679,
      4.0,
      2.0,
      1.0,
      0.5,
      2.0,
      2.0,
      0.5,
      0.5,
      5.0,
      3.0,
      1.0,
      0.5,
      2.0,
      2.0,
      0.5,
      0.5
    ]
  },
  "metadata": {
    "notebook_path": "layeredModel/lqn_twotasks.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 5,
    "code_cells": 5,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}