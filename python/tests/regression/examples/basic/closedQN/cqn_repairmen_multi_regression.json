{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\n\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:30.090794Z",
          "start_time": "2025-07-30T22:14:29.081499Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:31:47.187437Z",
          "iopub.execute_input": "2026-01-03T15:31:47.187566Z",
          "shell.execute_reply": "2026-01-03T15:31:47.771845Z",
          "iopub.status.idle": "2026-01-03T15:31:47.772278Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "model = Network('model')\n\nnode = np.empty(2, dtype=object)\nnode[0] = Delay(model, 'Delay')\nnode[1] = Queue(model, 'Queue1', SchedStrategy.FCFS)\nnode[1].set_number_of_servers(3)\n\n# Default: scheduling is set as FCFS everywhere, routing as Random\njobclass = np.empty(2, dtype=object)\njobclass[0] = ClosedClass(model, 'Class1', 4, node[0], 0)\njobclass[1] = ClosedClass(model, 'Class2', 2, node[0], 0)\n\nnode[0].set_service(jobclass[0], Exp(1))\nnode[0].set_service(jobclass[1], Exp(1))\n\nnode[1].set_service(jobclass[0], Exp(1))\nnode[1].set_service(jobclass[1], Exp(10))\n\nmyP = model.init_routing_matrix()\nmyP.set(jobclass[0], jobclass[0], node[0], node[1], 1.0)\nmyP.set(jobclass[0], jobclass[0], node[1], node[0], 1.0)\nmyP.set(jobclass[1], jobclass[1], node[0], node[1], 1.0)\nmyP.set(jobclass[1], jobclass[1], node[1], node[0], 1.0)\nmodel.link(myP)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:30.175866Z",
          "start_time": "2025-07-30T22:14:30.151974Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:31:47.773397Z",
          "iopub.execute_input": "2026-01-03T15:31:47.773578Z",
          "iopub.status.idle": "2026-01-03T15:31:47.776568Z",
          "shell.execute_reply": "2026-01-03T15:31:47.776243Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# Solve with multiple solvers\nsolver = np.array([], dtype=object)\nsolver = np.append(solver, CTMC(model))\n\n# Skip QNS solvers if external qnsolver is not available\nif QNS.isAvailable():\n    solver = np.append(solver, QNS(model, method='conway'))\n    solver = np.append(solver, QNS(model, method='reiser'))\n    solver = np.append(solver, QNS(model, method='rolia'))\n    solver = np.append(solver, QNS(model, method='zhou'))\nelse:\n    print(\"QNS solvers skipped: external qnsolver not available\")\n\n# MVA solvers - pass multiserver config via keyword args\nsolver = np.append(solver, MVA(model))\nsolver = np.append(solver, NC(model))\n\nAvgTable = np.empty(len(solver), dtype=object)\nfor s in range(len(solver)):\n    print(f'SOLVER: {solver[s].get_name()}')\n    try:\n        AvgTable[s] = solver[s].avg_table()\n    except Exception as e:\n        print(f'  Error: {e}')\n        AvgTable[s] = None",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:30.542285Z",
          "start_time": "2025-07-30T22:14:30.208774Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:31:47.777517Z",
          "iopub.execute_input": "2026-01-03T15:31:47.777628Z",
          "shell.execute_reply": "2026-01-03T15:31:47.807988Z",
          "iopub.status.idle": "2026-01-03T15:31:47.808505Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "SOLVER: CTMC\nStation JobClass   QLen   Util  RespT  ResidT   ArvR   Tput\n  Delay   Class1 1.9242 1.9242 1.0000  1.0000 1.9242 1.9242\n  Delay   Class2 1.7913 1.7913 1.0000  1.0000 1.7913 1.7913\n Queue1   Class1 2.0758 0.6414 1.0788  1.0788 1.9242 1.9242\n Queue1   Class2 0.2087 0.0597 0.1165  0.1165 1.7913 1.7913\nSOLVER: QNS\n  Error: 'SolverQNS' object has no attribute 'avg_table'\nSOLVER: QNS\n  Error: 'SolverQNS' object has no attribute 'avg_table'\nSOLVER: QNS\n  Error: 'SolverQNS' object has no attribute 'avg_table'\nSOLVER: QNS\n  Error: 'SolverQNS' object has no attribute 'avg_table'\nSOLVER: MVA\n  Error: Unsupported exact MVA analysis, the model does not have a product form\nSOLVER: NC\nStation JobClass   QLen   Util  RespT  ResidT   ArvR   Tput\n  Delay   Class1 1.7676 1.7676 1.0000  1.0000 1.7676 1.7676\n  Delay   Class2 1.7605 1.7605 1.0000  1.0000 1.7605 1.7605\n Queue1   Class1 2.2324 0.5892 1.2629  1.2629 1.7676 1.7676\n Queue1   Class2 0.2395 0.0587 0.1360  0.1360 1.7605 1.7605\n",
            "numerical_values": [
              1.0,
              1.9242,
              1.9242,
              1.0,
              1.0,
              1.9242,
              1.9242,
              2.0,
              1.7913,
              1.7913,
              1.0,
              1.0,
              1.7913,
              1.7913,
              1.0,
              1.0,
              2.0758,
              0.6414,
              1.0788,
              1.0788,
              1.9242,
              1.9242,
              1.0,
              2.0,
              0.2087,
              0.0597,
              0.1165,
              0.1165,
              1.7913,
              1.7913,
              1.0,
              1.7676,
              1.7676,
              1.0,
              1.0,
              1.7676,
              1.7676,
              2.0,
              1.7605,
              1.7605,
              1.0,
              1.0,
              1.7605,
              1.7605,
              1.0,
              1.0,
              2.2324,
              0.5892,
              1.2629,
              1.2629,
              1.7676,
              1.7676,
              1.0,
              2.0,
              0.2395,
              0.0587,
              0.136,
              0.136,
              1.7605,
              1.7605
            ]
          }
        }
      ],
      "execution_count": 3
    }
  },
  "numerical_summary": {
    "cell_2": [
      1.0,
      1.9242,
      1.9242,
      1.0,
      1.0,
      1.9242,
      1.9242,
      2.0,
      1.7913,
      1.7913,
      1.0,
      1.0,
      1.7913,
      1.7913,
      1.0,
      1.0,
      2.0758,
      0.6414,
      1.0788,
      1.0788,
      1.9242,
      1.9242,
      1.0,
      2.0,
      0.2087,
      0.0597,
      0.1165,
      0.1165,
      1.7913,
      1.7913,
      1.0,
      1.7676,
      1.7676,
      1.0,
      1.0,
      1.7676,
      1.7676,
      2.0,
      1.7605,
      1.7605,
      1.0,
      1.0,
      1.7605,
      1.7605,
      1.0,
      1.0,
      2.2324,
      0.5892,
      1.2629,
      1.2629,
      1.7676,
      1.7676,
      1.0,
      2.0,
      0.2395,
      0.0587,
      0.136,
      0.136,
      1.7605,
      1.7605
    ]
  },
  "metadata": {
    "notebook_path": "closedQN/cqn_repairmen_multi.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 3,
    "code_cells": 3,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}