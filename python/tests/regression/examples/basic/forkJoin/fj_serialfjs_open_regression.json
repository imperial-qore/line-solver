{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:02.077282Z",
          "start_time": "2025-07-30T22:18:01.121669Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:51.669204Z",
          "iopub.execute_input": "2026-01-03T15:32:51.669410Z",
          "shell.execute_reply": "2026-01-03T15:32:52.279676Z",
          "iopub.status.idle": "2026-01-03T15:32:52.280069Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "# Fork-Join network example 6\nmodel = Network('model')",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:02.084621Z",
          "start_time": "2025-07-30T22:18:02.080224Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:52.281076Z",
          "iopub.execute_input": "2026-01-03T15:32:52.281242Z",
          "shell.execute_reply": "2026-01-03T15:32:52.282543Z",
          "iopub.status.idle": "2026-01-03T15:32:52.282910Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# Create network\nsource = Source(model,'Source')\nqueue1 = Queue(model,'Queue1',SchedStrategy.FCFS)\nqueue2 = Queue(model,'Queue2',SchedStrategy.FCFS)\nfork1 = Fork(model,'Fork1')\njoin1 = Join(model,'Join1',fork1)\nqueue3 = Queue(model,'Queue3',SchedStrategy.FCFS)\nqueue4 = Queue(model,'Queue4',SchedStrategy.FCFS)\nfork2 = Fork(model,'Fork2')\njoin2 = Join(model,'Join2',fork2)\nsink = Sink(model,'Sink')\n\njobclass1 = OpenClass(model, 'class1')",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:02.149228Z",
          "start_time": "2025-07-30T22:18:02.138096Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:52.283973Z",
          "iopub.execute_input": "2026-01-03T15:32:52.284072Z",
          "shell.execute_reply": "2026-01-03T15:32:52.286192Z",
          "iopub.status.idle": "2026-01-03T15:32:52.286558Z"
        }
      },
      "outputs": [],
      "execution_count": 3
    },
    "cell_3": {
      "cell_type": "code",
      "source": "# Service configurations\nsource.set_arrival(jobclass1, Exp(0.4))\nqueue1.set_service(jobclass1, Exp(1.0))\nqueue2.set_service(jobclass1, Exp(1.0))\nqueue3.set_service(jobclass1, Exp(1.0))\nqueue4.set_service(jobclass1, Exp(1.0))",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:02.198517Z",
          "start_time": "2025-07-30T22:18:02.189507Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:52.287497Z",
          "iopub.execute_input": "2026-01-03T15:32:52.287595Z",
          "shell.execute_reply": "2026-01-03T15:32:52.289452Z",
          "iopub.status.idle": "2026-01-03T15:32:52.290035Z"
        }
      },
      "outputs": [],
      "execution_count": 4
    },
    "cell_4": {
      "cell_type": "code",
      "source": "# Two sequential fork-join stages routing\nP = model.init_routing_matrix()\nP.set(jobclass1, jobclass1, source, fork1, 1.0)\nP.set(jobclass1, jobclass1, fork1, queue1, 1.0)\nP.set(jobclass1, jobclass1, fork1, queue2, 1.0)\nP.set(jobclass1, jobclass1, queue1, join1, 1.0)\nP.set(jobclass1, jobclass1, queue2, join1, 1.0)\nP.set(jobclass1, jobclass1, join1, fork2, 1.0)\nP.set(jobclass1, jobclass1, fork2, queue3, 1.0)\nP.set(jobclass1, jobclass1, fork2, queue4, 1.0)\nP.set(jobclass1, jobclass1, queue3, join2, 1.0)\nP.set(jobclass1, jobclass1, queue4, join2, 1.0)\nP.set(jobclass1, jobclass1, join2, sink, 1.0)\nmodel.link(P)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:02.248748Z",
          "start_time": "2025-07-30T22:18:02.240521Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:52.290875Z",
          "iopub.execute_input": "2026-01-03T15:32:52.290971Z",
          "shell.execute_reply": "2026-01-03T15:32:52.293775Z",
          "iopub.status.idle": "2026-01-03T15:32:52.294140Z"
        }
      },
      "outputs": [],
      "execution_count": 5
    },
    "cell_5": {
      "cell_type": "code",
      "source": "# Solve with multiple methods\nsolvers = [JMT(model, seed=23000), MVA(model)]\nfor i, solver in enumerate(solvers):\n    print(f'SOLVER {i+1}: {solver.get_name()}')\n    avgTable = solver.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:03.610841Z",
          "start_time": "2025-07-30T22:18:02.289502Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:52.295160Z",
          "iopub.execute_input": "2026-01-03T15:32:52.295258Z",
          "shell.execute_reply": "2026-01-03T15:32:53.415389Z",
          "iopub.status.idle": "2026-01-03T15:32:53.416099Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "SOLVER 1: JMT\n",
            "numerical_values": [
              1.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "Station JobClass   QLen   Util  RespT  ResidT   ArvR   Tput\n Source   class1 0.0000 0.0000 0.0000  0.0000 0.0000 0.4000\n Queue1   class1 0.6788 0.4120 1.6172  1.6172 0.4060 0.4060\n Queue2   class1 0.6637 0.4138 1.5905  1.5905 0.4048 0.4048\n  Join1   class1 0.6000 0.4122 0.7465  0.7465 0.4077 0.4077\n Queue3   class1 0.6995 0.4155 1.6472  1.6472 0.4066 0.4066\n Queue4   class1 0.6224 0.4037 1.5784  1.5784 0.4071 0.4071\n  Join2   class1 0.6016 0.4095 0.7427  0.7427 0.4076 0.4076\nSOLVER 2: MVA\nStation JobClass   QLen  Util   RespT  ResidT  ArvR  Tput\n Source   class1 0.0000   0.0  0.0000  0.0000   0.0   0.4\n Queue1   class1 0.6667   0.4  1.6667  1.6667   0.4   0.4\n Queue2   class1 0.6667   0.4  1.6667  1.6667   0.4   0.4\n  Join1   class1 0.6667   0.0  0.8333  0.8333   0.4   0.4\n Queue3   class1 4.0000   0.8 10.0000 10.0000   0.4   0.4\n Queue4   class1 4.0000   0.8 10.0000 10.0000   0.4   0.4\n  Join2   class1 4.0000   0.0  5.0000  5.0000   0.4   0.4\n",
            "numerical_values": [
              1.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.4,
              1.0,
              1.0,
              0.6788,
              0.412,
              1.6172,
              1.6172,
              0.406,
              0.406,
              2.0,
              1.0,
              0.6637,
              0.4138,
              1.5905,
              1.5905,
              0.4048,
              0.4048,
              1.0,
              1.0,
              0.6,
              0.4122,
              0.7465,
              0.7465,
              0.4077,
              0.4077,
              3.0,
              1.0,
              0.6995,
              0.4155,
              1.6472,
              1.6472,
              0.4066,
              0.4066,
              4.0,
              1.0,
              0.6224,
              0.4037,
              1.5784,
              1.5784,
              0.4071,
              0.4071,
              2.0,
              1.0,
              0.6016,
              0.4095,
              0.7427,
              0.7427,
              0.4076,
              0.4076,
              2.0,
              1.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.4,
              1.0,
              1.0,
              0.6667,
              0.4,
              1.6667,
              1.6667,
              0.4,
              0.4,
              2.0,
              1.0,
              0.6667,
              0.4,
              1.6667,
              1.6667,
              0.4,
              0.4,
              1.0,
              1.0,
              0.6667,
              0.0,
              0.8333,
              0.8333,
              0.4,
              0.4,
              3.0,
              1.0,
              4.0,
              0.8,
              10.0,
              10.0,
              0.4,
              0.4,
              4.0,
              1.0,
              4.0,
              0.8,
              10.0,
              10.0,
              0.4,
              0.4,
              2.0,
              1.0,
              4.0,
              0.0,
              5.0,
              5.0,
              0.4,
              0.4
            ]
          }
        }
      ],
      "execution_count": 6
    }
  },
  "numerical_summary": {
    "cell_1": [
      6.0
    ],
    "cell_5": [
      1.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.4,
      1.0,
      1.0,
      0.6788,
      0.412,
      1.6172,
      1.6172,
      0.406,
      0.406,
      2.0,
      1.0,
      0.6637,
      0.4138,
      1.5905,
      1.5905,
      0.4048,
      0.4048,
      1.0,
      1.0,
      0.6,
      0.4122,
      0.7465,
      0.7465,
      0.4077,
      0.4077,
      3.0,
      1.0,
      0.6995,
      0.4155,
      1.6472,
      1.6472,
      0.4066,
      0.4066,
      4.0,
      1.0,
      0.6224,
      0.4037,
      1.5784,
      1.5784,
      0.4071,
      0.4071,
      2.0,
      1.0,
      0.6016,
      0.4095,
      0.7427,
      0.7427,
      0.4076,
      0.4076,
      2.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.4,
      1.0,
      1.0,
      0.6667,
      0.4,
      1.6667,
      1.6667,
      0.4,
      0.4,
      2.0,
      1.0,
      0.6667,
      0.4,
      1.6667,
      1.6667,
      0.4,
      0.4,
      1.0,
      1.0,
      0.6667,
      0.0,
      0.8333,
      0.8333,
      0.4,
      0.4,
      3.0,
      1.0,
      4.0,
      0.8,
      10.0,
      10.0,
      0.4,
      0.4,
      4.0,
      1.0,
      4.0,
      0.8,
      10.0,
      10.0,
      0.4,
      0.4,
      2.0,
      1.0,
      4.0,
      0.0,
      5.0,
      5.0,
      0.4,
      0.4,
      23000.0,
      1.0
    ]
  },
  "metadata": {
    "notebook_path": "forkJoin/fj_serialfjs_open.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 6,
    "code_cells": 6,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}