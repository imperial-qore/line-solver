{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:17.797622Z",
          "start_time": "2025-07-30T22:16:16.907570Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:14.922120Z",
          "iopub.execute_input": "2026-01-03T15:32:14.922323Z",
          "shell.execute_reply": "2026-01-03T15:32:15.899729Z",
          "iopub.status.idle": "2026-01-03T15:32:15.900462Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "# Fork-Join network example 5 - similar to example_forkJoin_1 but closed\nmodel = Network('model')",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:17.856339Z",
          "start_time": "2025-07-30T22:16:17.852562Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:15.944690Z",
          "iopub.execute_input": "2026-01-03T15:32:15.945126Z",
          "shell.execute_reply": "2026-01-03T15:32:15.946974Z",
          "iopub.status.idle": "2026-01-03T15:32:15.947673Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# Create network\ndelay = Delay(model,'Delay')\nqueue1 = Queue(model,'Queue1',SchedStrategy.PS)\nqueue2 = Queue(model,'Queue2',SchedStrategy.PS)\nfork = Fork(model, 'Fork')\njoin = Join(model, 'Join', fork)\n\njobclass1 = ClosedClass(model, 'class1', 5, delay, 0)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:17.919789Z",
          "start_time": "2025-07-30T22:16:17.909610Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:15.949161Z",
          "iopub.execute_input": "2026-01-03T15:32:15.949504Z",
          "shell.execute_reply": "2026-01-03T15:32:15.951709Z",
          "iopub.status.idle": "2026-01-03T15:32:15.952359Z"
        }
      },
      "outputs": [],
      "execution_count": 3
    },
    "cell_3": {
      "cell_type": "code",
      "source": "# Service configurations\ndelay.set_service(jobclass1, Exp(1.0))\nqueue1.set_service(jobclass1, Exp(1.0))\nqueue2.set_service(jobclass1, Exp(1.0))",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:17.964281Z",
          "start_time": "2025-07-30T22:16:17.959656Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:15.953875Z",
          "iopub.execute_input": "2026-01-03T15:32:15.954190Z",
          "shell.execute_reply": "2026-01-03T15:32:15.956069Z",
          "iopub.status.idle": "2026-01-03T15:32:15.956705Z"
        }
      },
      "outputs": [],
      "execution_count": 4
    },
    "cell_4": {
      "cell_type": "code",
      "source": "# Set routing matrix\nP = model.init_routing_matrix()\nP.set(jobclass1, jobclass1, delay, fork, 1.0)\nP.set(jobclass1, jobclass1, fork, queue1, 1.0)\nP.set(jobclass1, jobclass1, fork, queue2, 1.0)\nP.set(jobclass1, jobclass1, queue1, join, 1.0)\nP.set(jobclass1, jobclass1, queue2, join, 1.0)\nP.set(jobclass1, jobclass1, join, delay, 1.0)\nmodel.link(P)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:18.024250Z",
          "start_time": "2025-07-30T22:16:18.015450Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:15.958171Z",
          "iopub.execute_input": "2026-01-03T15:32:15.958512Z",
          "shell.execute_reply": "2026-01-03T15:32:15.961275Z",
          "iopub.status.idle": "2026-01-03T15:32:15.961969Z"
        }
      },
      "outputs": [],
      "execution_count": 5
    },
    "cell_5": {
      "cell_type": "code",
      "source": "# Solve with multiple methods\nsolvers = [JMT(model, seed=23000)]\n# Add MVA with specific options like MATLAB\nsolvers.append(MVA(model, method='amva'))\n\nfor i, solver in enumerate(solvers):\n    print(f'SOLVER {i+1}: {solver.get_name()}')\n    avgTable = solver.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:19.336769Z",
          "start_time": "2025-07-30T22:16:18.070823Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-03T15:32:15.963435Z",
          "iopub.execute_input": "2026-01-03T15:32:15.963938Z",
          "shell.execute_reply": "2026-01-03T15:32:17.308997Z",
          "iopub.status.idle": "2026-01-03T15:32:17.309887Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "SOLVER 1: JMT\n",
            "numerical_values": [
              1.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "Station JobClass   QLen   Util  RespT  ResidT   ArvR   Tput\n  Delay   class1 0.8769 0.8769 1.0119  1.0119 0.8912 0.8912\n Queue1   class1 2.7346 0.8881 3.0986  3.0986 0.8906 0.8906\n Queue2   class1 2.5231 0.8716 2.8686  2.8686 0.8770 0.8770\n   Join   class1 2.9786 0.9806 1.7497  1.7497 0.8911 0.8911\nSOLVER 2: MVA\nStation JobClass   QLen   Util  RespT  ResidT   ArvR   Tput\n  Delay   class1 0.7396 0.7396 1.0000  1.0000 0.7396 0.7396\n Queue1   class1 2.8403 0.7396 3.8403  3.8403 0.7396 0.7396\n Queue2   class1 2.8403 0.7396 3.8403  3.8403 0.7396 0.7396\n   Join   class1 2.8403 0.0000 1.9201  1.9201 0.7396 0.7396\n",
            "numerical_values": [
              1.0,
              0.8769,
              0.8769,
              1.0119,
              1.0119,
              0.8912,
              0.8912,
              1.0,
              1.0,
              2.7346,
              0.8881,
              3.0986,
              3.0986,
              0.8906,
              0.8906,
              2.0,
              1.0,
              2.5231,
              0.8716,
              2.8686,
              2.8686,
              0.877,
              0.877,
              1.0,
              2.9786,
              0.9806,
              1.7497,
              1.7497,
              0.8911,
              0.8911,
              2.0,
              1.0,
              0.7396,
              0.7396,
              1.0,
              1.0,
              0.7396,
              0.7396,
              1.0,
              1.0,
              2.8403,
              0.7396,
              3.8403,
              3.8403,
              0.7396,
              0.7396,
              2.0,
              1.0,
              2.8403,
              0.7396,
              3.8403,
              3.8403,
              0.7396,
              0.7396,
              1.0,
              2.8403,
              0.0,
              1.9201,
              1.9201,
              0.7396,
              0.7396
            ]
          }
        }
      ],
      "execution_count": 6
    }
  },
  "numerical_summary": {
    "cell_1": [
      5.0,
      1.0
    ],
    "cell_2": [
      1.0,
      1.0,
      2.0,
      2.0,
      1.0,
      1.0,
      5.0,
      0.0
    ],
    "cell_3": [
      1.0,
      1.0,
      1.0,
      1.0,
      1.0,
      2.0,
      1.0,
      1.0
    ],
    "cell_5": [
      1.0,
      1.0,
      0.8769,
      0.8769,
      1.0119,
      1.0119,
      0.8912,
      0.8912,
      1.0,
      1.0,
      2.7346,
      0.8881,
      3.0986,
      3.0986,
      0.8906,
      0.8906,
      2.0,
      1.0,
      2.5231,
      0.8716,
      2.8686,
      2.8686,
      0.877,
      0.877,
      1.0,
      2.9786,
      0.9806,
      1.7497,
      1.7497,
      0.8911,
      0.8911,
      2.0,
      1.0,
      0.7396,
      0.7396,
      1.0,
      1.0,
      0.7396,
      0.7396,
      1.0,
      1.0,
      2.8403,
      0.7396,
      3.8403,
      3.8403,
      0.7396,
      0.7396,
      2.0,
      1.0,
      2.8403,
      0.7396,
      3.8403,
      3.8403,
      0.7396,
      0.7396,
      1.0,
      2.8403,
      0.0,
      1.9201,
      1.9201,
      0.7396,
      0.7396,
      23000.0,
      1.0
    ]
  },
  "metadata": {
    "notebook_path": "forkJoin/fj_basic_closed.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 6,
    "code_cells": 6,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}