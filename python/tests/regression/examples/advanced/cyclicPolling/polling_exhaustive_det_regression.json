{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-09-10T15:41:05.683571Z",
          "start_time": "2025-09-10T15:41:04.695778Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-01T10:31:32.889216Z",
          "iopub.execute_input": "2026-01-01T10:31:32.889321Z",
          "shell.execute_reply": "2026-01-01T10:31:33.348157Z",
          "iopub.status.idle": "2026-01-01T10:31:33.348510Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "model = Network('M[2]/M[2]/1-Gated')\n## Block 1: nodes\nsource = Source(model, 'mySource')\nqueue = Queue(model, 'myQueue', SchedStrategy.POLLING)\nsink = Sink(model, 'mySink')",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-09-10T15:41:05.705343Z",
          "start_time": "2025-09-10T15:41:05.687007Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-01T10:31:33.349766Z",
          "iopub.execute_input": "2026-01-01T10:31:33.349891Z",
          "iopub.status.idle": "2026-01-01T10:31:33.351468Z",
          "shell.execute_reply": "2026-01-01T10:31:33.351300Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "## Block 2: classes\noclass1 = OpenClass(model, 'myClass1')\nsource.set_arrival(oclass1, Det(1.0))\nqueue.set_service(oclass1, Det(0.01))  # Changed from 0.001 to avoid JMT precision issues\n\noclass2 = OpenClass(model, 'myClass2')\nsource.set_arrival(oclass2, Det(1.0))\nqueue.set_service(oclass2, Det(0.01))  # Changed from 0.001 to avoid JMT precision issues\n\nqueue.set_polling_type(PollingType.EXHAUSTIVE)\nqueue.set_switchover(oclass2, Immediate())\nqueue.set_switchover(oclass1, Immediate())",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-09-10T15:41:05.788298Z",
          "start_time": "2025-09-10T15:41:05.739888Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-01T10:31:33.352203Z",
          "iopub.execute_input": "2026-01-01T10:31:33.352279Z",
          "shell.execute_reply": "2026-01-01T10:31:33.353810Z",
          "iopub.status.idle": "2026-01-01T10:31:33.353979Z"
        }
      },
      "outputs": [],
      "execution_count": 3
    },
    "cell_3": {
      "cell_type": "code",
      "source": "## Block 3: topology\nP = model.init_routing_matrix()\nP.add_route(oclass1, source, queue, sink)\nP.add_route(oclass2, source, queue, sink)\nmodel.link(P)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-09-10T15:41:05.834153Z",
          "start_time": "2025-09-10T15:41:05.800101Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-01T10:31:33.354765Z",
          "iopub.execute_input": "2026-01-01T10:31:33.354841Z",
          "shell.execute_reply": "2026-01-01T10:31:33.356066Z",
          "iopub.status.idle": "2026-01-01T10:31:33.356242Z"
        }
      },
      "outputs": [],
      "execution_count": 4
    },
    "cell_4": {
      "cell_type": "code",
      "source": "MVA(model).avg_table()  # solution is approximate in general",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-09-10T15:41:05.913112Z",
          "start_time": "2025-09-10T15:41:05.864377Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-01T10:31:33.356893Z",
          "iopub.execute_input": "2026-01-01T10:31:33.356964Z",
          "shell.execute_reply": "2026-01-01T10:31:33.403768Z",
          "iopub.status.idle": "2026-01-01T10:31:33.404092Z"
        }
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "execution_count": 5,
          "metadata": {},
          "content": {
            "text/plain": "    Station  JobClass    QLen  Util   RespT  ResidT  ArvR  Tput\n0  mySource  myClass1  0.0000  0.00  0.0000  0.0000   0.0   1.0\n1  mySource  myClass2  0.0000  0.00  0.0000  0.0000   0.0   1.0\n2   myQueue  myClass1  0.0101  0.01  0.0101  0.0101   1.0   1.0\n3   myQueue  myClass2  0.0101  0.01  0.0101  0.0101   1.0   1.0",
            "numerical_values": [
              0.0,
              1.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.0,
              1.0,
              2.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.0,
              2.0,
              1.0,
              0.0101,
              0.01,
              0.0101,
              0.0101,
              1.0,
              1.0,
              3.0,
              2.0,
              0.0101,
              0.01,
              0.0101,
              0.0101,
              1.0,
              1.0
            ],
            "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Station</th>\n      <th>JobClass</th>\n      <th>QLen</th>\n      <th>Util</th>\n      <th>RespT</th>\n      <th>ResidT</th>\n      <th>ArvR</th>\n      <th>Tput</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>mySource</td>\n      <td>myClass1</td>\n      <td>0.0000</td>\n      <td>0.00</td>\n      <td>0.0000</td>\n      <td>0.0000</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>mySource</td>\n      <td>myClass2</td>\n      <td>0.0000</td>\n      <td>0.00</td>\n      <td>0.0000</td>\n      <td>0.0000</td>\n      <td>0.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>myQueue</td>\n      <td>myClass1</td>\n      <td>0.0101</td>\n      <td>0.01</td>\n      <td>0.0101</td>\n      <td>0.0101</td>\n      <td>1.0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>myQueue</td>\n      <td>myClass2</td>\n      <td>0.0101</td>\n      <td>0.01</td>\n      <td>0.0101</td>\n      <td>0.0101</td>\n      <td>1.0</td>\n      <td>1.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>"
          }
        }
      ],
      "execution_count": 5
    },
    "cell_5": {
      "cell_type": "code",
      "source": "# Note: JMT solver may have issues with polling models in the current implementation\n# Uncomment the line below to test with JMT if polling support is available\n# Note: JMT solver may have issues with polling models\n# # JMT(model, samples=100000).avg_table()\nprint(\"JMT solver skipped - polling models may not be fully supported\")\nprint(\"JMT solver skipped - polling models may not be fully supported\")",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-09-10T15:41:15.602621Z",
          "start_time": "2025-09-10T15:41:14.971552Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-01T10:31:33.405006Z",
          "iopub.execute_input": "2026-01-01T10:31:33.405116Z",
          "shell.execute_reply": "2026-01-01T10:31:33.406477Z",
          "iopub.status.idle": "2026-01-01T10:31:33.406663Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "JMT solver skipped - polling models may not be fully supported\nJMT solver skipped - polling models may not be fully supported\n"
          }
        }
      ],
      "execution_count": 6
    }
  },
  "numerical_summary": {
    "cell_1": [
      2.0,
      2.0,
      1.0,
      1.0
    ],
    "cell_3": [
      3.0,
      1.0,
      2.0
    ],
    "cell_4": [
      0.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.0,
      1.0,
      2.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.0,
      2.0,
      1.0,
      0.0101,
      0.01,
      0.0101,
      0.0101,
      1.0,
      1.0,
      3.0,
      2.0,
      0.0101,
      0.01,
      0.0101,
      0.0101,
      1.0,
      1.0
    ],
    "cell_5": [
      100000.0
    ]
  },
  "metadata": {
    "notebook_path": "cyclicPolling/polling_exhaustive_det.ipynb",
    "source_dir": "examples/advanced",
    "total_cells": 6,
    "code_cells": 6,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}