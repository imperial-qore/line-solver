{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:10.525862Z",
          "start_time": "2025-07-30T22:16:09.661406Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:09:04.559935Z",
          "iopub.execute_input": "2026-01-02T14:09:04.560017Z",
          "iopub.status.idle": "2026-01-02T14:09:05.360187Z",
          "shell.execute_reply": "2026-01-02T14:09:05.359782Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "# Fork-Join network example 10\nmodel = Network('model')",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:10.583606Z",
          "start_time": "2025-07-30T22:16:10.579748Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:09:05.361761Z",
          "iopub.execute_input": "2026-01-02T14:09:05.361980Z",
          "shell.execute_reply": "2026-01-02T14:09:05.369172Z",
          "iopub.status.idle": "2026-01-02T14:09:05.369542Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# Create network\ndelay = Delay(model, 'Delay1')\nqueue1 = Queue(model,'Queue1',SchedStrategy.FCFS)\nqueue2 = Queue(model,'Queue2',SchedStrategy.FCFS)\nqueue3 = Queue(model,'Queue3',SchedStrategy.FCFS)\nfork = Fork(model,'Fork')\njoin = Join(model,'Join', fork)\n\njobclass1 = ClosedClass(model, 'class1', 10, delay, 0)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:10.656823Z",
          "start_time": "2025-07-30T22:16:10.629439Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:09:05.370623Z",
          "iopub.execute_input": "2026-01-02T14:09:05.370769Z",
          "iopub.status.idle": "2026-01-02T14:09:05.379202Z",
          "shell.execute_reply": "2026-01-02T14:09:05.378845Z"
        }
      },
      "outputs": [],
      "execution_count": 3
    },
    "cell_3": {
      "cell_type": "code",
      "source": "# Service configurations\nqueue1.set_service(jobclass1, Exp(1.0))\nqueue2.set_service(jobclass1, Exp(2.0))\nqueue3.set_service(jobclass1, Exp(1.0))\ndelay.set_service(jobclass1, Exp(0.5))",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:10.687191Z",
          "start_time": "2025-07-30T22:16:10.679688Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:09:05.380408Z",
          "iopub.execute_input": "2026-01-02T14:09:05.380533Z",
          "shell.execute_reply": "2026-01-02T14:09:05.386288Z",
          "iopub.status.idle": "2026-01-02T14:09:05.386703Z"
        }
      },
      "outputs": [],
      "execution_count": 4
    },
    "cell_4": {
      "cell_type": "code",
      "source": "# Set routing matrix with serial queue2->queue3 routing\nP = model.init_routing_matrix()\n\nP.set(jobclass1, jobclass1, delay, fork, 1.0)\nP.set(jobclass1, jobclass1, fork, queue1, 1.0)\nP.set(jobclass1, jobclass1, fork, queue2, 1.0)\nP.set(jobclass1, jobclass1, queue1, join, 1.0)\nP.set(jobclass1, jobclass1, queue2, queue3, 1.0)  # Serial routing: queue2 -> queue3\nP.set(jobclass1, jobclass1, queue3, join, 1.0)\nP.set(jobclass1, jobclass1, join, delay, 1.0)\n\nmodel.link(P)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:10.746667Z",
          "start_time": "2025-07-30T22:16:10.739711Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:09:05.387922Z",
          "iopub.execute_input": "2026-01-02T14:09:05.388058Z",
          "iopub.status.idle": "2026-01-02T14:09:05.395035Z",
          "shell.execute_reply": "2026-01-02T14:09:05.394781Z"
        }
      },
      "outputs": [],
      "execution_count": 5
    },
    "cell_5": {
      "cell_type": "code",
      "source": "# Solve with multiple methods\nsolvers = [JMT(model, seed=23000), MVA(model)]\nfor i, solver in enumerate(solvers):\n    print(f'SOLVER {i+1}: {solver.get_name()}')\n    avgTable = solver.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:16:12.094815Z",
          "start_time": "2025-07-30T22:16:10.788984Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:09:05.396073Z",
          "iopub.execute_input": "2026-01-02T14:09:05.396219Z",
          "shell.execute_reply": "2026-01-02T14:09:06.516770Z",
          "iopub.status.idle": "2026-01-02T14:09:06.517113Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "SOLVER 1: SolverJMT\nJMT Model: /tmp/workspace/jsim/3084916271089623860/jmodel.jsim\n",
            "numerical_values": [
              1.0,
              3.084916271089624e+18
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "  Station JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0  Delay1   class1  1.8834  1.8834  2.0364  2.0364  0.9455  0.9518\n1  Queue1   class1  5.9301  0.9415  6.2669  3.1335  0.9518  0.9480\n2  Queue2   class1  0.8816  0.4671  0.8938  0.4469  0.9518  0.9444\n3  Queue3   class1  5.3458  0.9335  5.6723  2.8362  0.9444  0.9444\n4    Join   class1  4.1832  0.0000  2.1920  2.1920  1.9276  0.9455\nSOLVER 2: SolverMVA\n  Station JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0  Delay1   class1  1.7139  1.7139  2.0000  2.0000  0.8569  0.8569\n1  Queue1   class1  5.2236  0.8569  6.0958  3.0479  0.8569  0.8569\n2  Queue2   class1  0.7360  0.4285  0.8589  0.4295  0.8569  0.8569\n3  Queue3   class1  5.2236  0.8569  6.0958  3.0479  0.8569  0.8569\n4    Join   class1  5.6159  0.0000  3.2768  3.2768  1.7139  0.8569\n",
            "numerical_values": [
              0.0,
              1.0,
              1.0,
              1.8834,
              1.8834,
              2.0364,
              2.0364,
              0.9455,
              0.9518,
              1.0,
              1.0,
              1.0,
              5.9301,
              0.9415,
              6.2669,
              3.1335,
              0.9518,
              0.948,
              2.0,
              2.0,
              1.0,
              0.8816,
              0.4671,
              0.8938,
              0.4469,
              0.9518,
              0.9444,
              3.0,
              3.0,
              1.0,
              5.3458,
              0.9335,
              5.6723,
              2.8362,
              0.9444,
              0.9444,
              4.0,
              1.0,
              4.1832,
              0.0,
              2.192,
              2.192,
              1.9276,
              0.9455,
              2.0,
              0.0,
              1.0,
              1.0,
              1.7139,
              1.7139,
              2.0,
              2.0,
              0.8569,
              0.8569,
              1.0,
              1.0,
              1.0,
              5.2236,
              0.8569,
              6.0958,
              3.0479,
              0.8569,
              0.8569,
              2.0,
              2.0,
              1.0,
              0.736,
              0.4285,
              0.8589,
              0.4295,
              0.8569,
              0.8569,
              3.0,
              3.0,
              1.0,
              5.2236,
              0.8569,
              6.0958,
              3.0479,
              0.8569,
              0.8569,
              4.0,
              1.0,
              5.6159,
              0.0,
              3.2768,
              3.2768,
              1.7139,
              0.8569
            ]
          }
        }
      ],
      "execution_count": 6
    }
  },
  "numerical_summary": {
    "cell_1": [
      10.0
    ],
    "cell_5": [
      1.0,
      3.084916271089624e+18,
      0.0,
      1.0,
      1.0,
      1.8834,
      1.8834,
      2.0364,
      2.0364,
      0.9455,
      0.9518,
      1.0,
      1.0,
      1.0,
      5.9301,
      0.9415,
      6.2669,
      3.1335,
      0.9518,
      0.948,
      2.0,
      2.0,
      1.0,
      0.8816,
      0.4671,
      0.8938,
      0.4469,
      0.9518,
      0.9444,
      3.0,
      3.0,
      1.0,
      5.3458,
      0.9335,
      5.6723,
      2.8362,
      0.9444,
      0.9444,
      4.0,
      1.0,
      4.1832,
      0.0,
      2.192,
      2.192,
      1.9276,
      0.9455,
      2.0,
      0.0,
      1.0,
      1.0,
      1.7139,
      1.7139,
      2.0,
      2.0,
      0.8569,
      0.8569,
      1.0,
      1.0,
      1.0,
      5.2236,
      0.8569,
      6.0958,
      3.0479,
      0.8569,
      0.8569,
      2.0,
      2.0,
      1.0,
      0.736,
      0.4285,
      0.8589,
      0.4295,
      0.8569,
      0.8569,
      3.0,
      3.0,
      1.0,
      5.2236,
      0.8569,
      6.0958,
      3.0479,
      0.8569,
      0.8569,
      4.0,
      1.0,
      5.6159,
      0.0,
      3.2768,
      3.2768,
      1.7139,
      0.8569,
      23000.0,
      1.0
    ]
  },
  "metadata": {
    "notebook_path": "forkJoin/fj_asymm.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 6,
    "code_cells": 6,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}