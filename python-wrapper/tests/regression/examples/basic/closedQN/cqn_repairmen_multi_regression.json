{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\n\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:30.090794Z",
          "start_time": "2025-07-30T22:14:29.081499Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:39.522882Z",
          "iopub.execute_input": "2026-01-02T14:08:39.523003Z",
          "iopub.status.idle": "2026-01-02T14:08:40.425075Z",
          "shell.execute_reply": "2026-01-02T14:08:40.424674Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "model = Network('model')\n\nnode = np.empty(2, dtype=object)\nnode[0] = Delay(model, 'Delay')\nnode[1] = Queue(model, 'Queue1', SchedStrategy.FCFS)\nnode[1].set_number_of_servers(3)\n\n# Default: scheduling is set as FCFS everywhere, routing as Random\njobclass = np.empty(2, dtype=object)\njobclass[0] = ClosedClass(model, 'Class1', 4, node[0], 0)\njobclass[1] = ClosedClass(model, 'Class2', 2, node[0], 0)\n\nnode[0].set_service(jobclass[0], Exp(1))\nnode[0].set_service(jobclass[1], Exp(1))\n\nnode[1].set_service(jobclass[0], Exp(1))\nnode[1].set_service(jobclass[1], Exp(10))\n\nmyP = model.init_routing_matrix()\nmyP.set(jobclass[0], jobclass[0], node[0], node[1], 1.0)\nmyP.set(jobclass[0], jobclass[0], node[1], node[0], 1.0)\nmyP.set(jobclass[1], jobclass[1], node[0], node[1], 1.0)\nmyP.set(jobclass[1], jobclass[1], node[1], node[0], 1.0)\nmodel.link(myP)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:30.175866Z",
          "start_time": "2025-07-30T22:14:30.151974Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:40.426755Z",
          "iopub.execute_input": "2026-01-02T14:08:40.427031Z",
          "shell.execute_reply": "2026-01-02T14:08:40.452449Z",
          "iopub.status.idle": "2026-01-02T14:08:40.452822Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# Solve with multiple solvers\noptions = QNS.default_options()\n\nsolver = np.array([], dtype=object)\nsolver = np.append(solver, CTMC(model))\n\n# Skip QNS solvers if external qnsolver is not available\nif QNS.isAvailable():\n    solver = np.append(solver, QNS(model, method='conway'))\n    solver = np.append(solver, QNS(model, method='reiser'))\n    solver = np.append(solver, QNS(model, method='rolia'))\n    solver = np.append(solver, QNS(model, method='zhou'))\nelse:\n    print(\"QNS solvers skipped: external qnsolver not available\")\n\noptions = MVA.default_options()\noptions.config.multiserver = 'softmin'\nsolver = np.append(solver, MVA(model, options))\noptions.config.multiserver = 'seidmann'\nsolver = np.append(solver, MVA(model, options))\nsolver = np.append(solver, NC(model))\n\nAvgTable = np.empty(len(solver), dtype=object)\nfor s in range(len(solver)):\n    print(f'SOLVER: {solver[s].get_name()}')\n    try:\n        AvgTable[s] = solver[s].avg_table()\n    except Exception as e:\n        print(f'  Error: {e}')\n        AvgTable[s] = None",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:30.542285Z",
          "start_time": "2025-07-30T22:14:30.208774Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:40.454190Z",
          "iopub.execute_input": "2026-01-02T14:08:40.454376Z",
          "iopub.status.idle": "2026-01-02T14:08:40.859104Z",
          "shell.execute_reply": "2026-01-02T14:08:40.858748Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "SOLVER: SolverCTMC\n  Station JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  1.9455  1.9455  1.0000  1.0000  1.9455  1.9455\n1   Delay   Class2  1.6383  1.6383  1.0000  1.0000  1.6383  1.6383\n2  Queue1   Class1  2.0545  0.6485  1.0561  1.0561  1.9455  1.9455\n3  Queue1   Class2  0.3617  0.0546  0.2208  0.2208  1.6383  1.6383\nSOLVER: QNS\n  Station JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  1.8349  1.8349  1.0000  1.0000  1.8349  1.8349\n1   Delay   Class2  1.5168  1.5168  1.0000  1.0000  1.5168  1.5168\n2  Queue1   Class1  2.1651  0.6116  1.1799  1.1799  1.8349  1.8349\n3  Queue1   Class2  0.4832  0.0506  0.3186  0.3186  1.5168  1.5168\nSOLVER: QNS\n",
            "numerical_values": [
              0.0,
              1.0,
              1.9455,
              1.9455,
              1.0,
              1.0,
              1.9455,
              1.9455,
              1.0,
              2.0,
              1.6383,
              1.6383,
              1.0,
              1.0,
              1.6383,
              1.6383,
              2.0,
              1.0,
              1.0,
              2.0545,
              0.6485,
              1.0561,
              1.0561,
              1.9455,
              1.9455,
              3.0,
              1.0,
              2.0,
              0.3617,
              0.0546,
              0.2208,
              0.2208,
              1.6383,
              1.6383,
              0.0,
              1.0,
              1.8349,
              1.8349,
              1.0,
              1.0,
              1.8349,
              1.8349,
              1.0,
              2.0,
              1.5168,
              1.5168,
              1.0,
              1.0,
              1.5168,
              1.5168,
              2.0,
              1.0,
              1.0,
              2.1651,
              0.6116,
              1.1799,
              1.1799,
              1.8349,
              1.8349,
              3.0,
              1.0,
              2.0,
              0.4832,
              0.0506,
              0.3186,
              0.3186,
              1.5168,
              1.5168
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "  Station JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  1.8349  1.8349  1.0000  1.0000  1.8349  1.8349\n1   Delay   Class2  1.5168  1.5168  1.0000  1.0000  1.5168  1.5168\n2  Queue1   Class1  2.1651  0.6116  1.1799  1.1799  1.8349  1.8349\n3  Queue1   Class2  0.4832  0.0506  0.3186  0.3186  1.5168  1.5168\nSOLVER: QNS\n  Station JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  1.8349  1.8349  1.0000  1.0000  1.8349  1.8349\n1   Delay   Class2  1.5168  1.5168  1.0000  1.0000  1.5168  1.5168\n2  Queue1   Class1  2.1651  0.6116  1.1799  1.1799  1.8349  1.8349\n3  Queue1   Class2  0.4832  0.0506  0.3186  0.3186  1.5168  1.5168\nSOLVER: QNS\n  Station JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  1.8349  1.8349  1.0000  1.0000  1.8349  1.8349\n1   Delay   Class2  1.5168  1.5168  1.0000  1.0000  1.5168  1.5168\n2  Queue1   Class1  2.1651  0.6116  1.1799  1.1799  1.8349  1.8349\n3  Queue1   Class2  0.4832  0.0506  0.3186  0.3186  1.5168  1.5168\nSOLVER: SolverMVA\n  Station JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  2.4671  2.4671  1.0000  1.0000  2.4671  2.4671\n1   Delay   Class2  1.3804  1.3804  1.0000  1.0000  1.3804  1.3804\n2  Queue1   Class1  1.5329  0.8224  0.6214  0.6214  2.4671  2.4671\n3  Queue1   Class2  0.6196  0.0460  0.4489  0.4489  1.3804  1.3804\nSOLVER: SolverMVA\n  Station JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  1.7794  1.7794  1.0000  1.0000  1.7794  1.7794\n1   Delay   Class2  1.2993  1.2993  1.0000  1.0000  1.2993  1.2993\n2  Queue1   Class1  2.2206  0.5931  1.2480  1.2480  1.7794  1.7794\n3  Queue1   Class2  0.7007  0.0433  0.5393  0.5393  1.2993  1.2993\nSOLVER: SolverNC\n  Station JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  1.9542  1.9542  1.0000  1.0000  1.9542  1.9542\n1   Delay   Class2  1.7570  1.7570  1.0000  1.0000  1.7570  1.7570\n2  Queue1   Class1  2.0458  0.6301  1.0468  1.0468  1.9542  1.9542\n3  Queue1   Class2  0.2430  0.0697  0.1383  0.1383  1.7570  1.7570\n",
            "numerical_values": [
              0.0,
              1.0,
              1.8349,
              1.8349,
              1.0,
              1.0,
              1.8349,
              1.8349,
              1.0,
              2.0,
              1.5168,
              1.5168,
              1.0,
              1.0,
              1.5168,
              1.5168,
              2.0,
              1.0,
              1.0,
              2.1651,
              0.6116,
              1.1799,
              1.1799,
              1.8349,
              1.8349,
              3.0,
              1.0,
              2.0,
              0.4832,
              0.0506,
              0.3186,
              0.3186,
              1.5168,
              1.5168,
              0.0,
              1.0,
              1.8349,
              1.8349,
              1.0,
              1.0,
              1.8349,
              1.8349,
              1.0,
              2.0,
              1.5168,
              1.5168,
              1.0,
              1.0,
              1.5168,
              1.5168,
              2.0,
              1.0,
              1.0,
              2.1651,
              0.6116,
              1.1799,
              1.1799,
              1.8349,
              1.8349,
              3.0,
              1.0,
              2.0,
              0.4832,
              0.0506,
              0.3186,
              0.3186,
              1.5168,
              1.5168,
              0.0,
              1.0,
              1.8349,
              1.8349,
              1.0,
              1.0,
              1.8349,
              1.8349,
              1.0,
              2.0,
              1.5168,
              1.5168,
              1.0,
              1.0,
              1.5168,
              1.5168,
              2.0,
              1.0,
              1.0,
              2.1651,
              0.6116,
              1.1799,
              1.1799,
              1.8349,
              1.8349,
              3.0,
              1.0,
              2.0,
              0.4832,
              0.0506,
              0.3186,
              0.3186,
              1.5168,
              1.5168,
              0.0,
              1.0,
              2.4671,
              2.4671,
              1.0,
              1.0,
              2.4671,
              2.4671,
              1.0,
              2.0,
              1.3804,
              1.3804,
              1.0,
              1.0,
              1.3804,
              1.3804,
              2.0,
              1.0,
              1.0,
              1.5329,
              0.8224,
              0.6214,
              0.6214,
              2.4671,
              2.4671,
              3.0,
              1.0,
              2.0,
              0.6196,
              0.046,
              0.4489,
              0.4489,
              1.3804,
              1.3804,
              0.0,
              1.0,
              1.7794,
              1.7794,
              1.0,
              1.0,
              1.7794,
              1.7794,
              1.0,
              2.0,
              1.2993,
              1.2993,
              1.0,
              1.0,
              1.2993,
              1.2993,
              2.0,
              1.0,
              1.0,
              2.2206,
              0.5931,
              1.248,
              1.248,
              1.7794,
              1.7794,
              3.0,
              1.0,
              2.0,
              0.7007,
              0.0433,
              0.5393,
              0.5393,
              1.2993,
              1.2993,
              0.0,
              1.0,
              1.9542,
              1.9542,
              1.0,
              1.0,
              1.9542,
              1.9542,
              1.0,
              2.0,
              1.757,
              1.757,
              1.0,
              1.0,
              1.757,
              1.757,
              2.0,
              1.0,
              1.0,
              2.0458,
              0.6301,
              1.0468,
              1.0468,
              1.9542,
              1.9542,
              3.0,
              1.0,
              2.0,
              0.243,
              0.0697,
              0.1383,
              0.1383,
              1.757,
              1.757
            ]
          }
        }
      ],
      "execution_count": 3
    }
  },
  "numerical_summary": {
    "cell_2": [
      0.0,
      1.0,
      1.9455,
      1.9455,
      1.0,
      1.0,
      1.9455,
      1.9455,
      1.0,
      2.0,
      1.6383,
      1.6383,
      1.0,
      1.0,
      1.6383,
      1.6383,
      2.0,
      1.0,
      1.0,
      2.0545,
      0.6485,
      1.0561,
      1.0561,
      1.9455,
      1.9455,
      3.0,
      1.0,
      2.0,
      0.3617,
      0.0546,
      0.2208,
      0.2208,
      1.6383,
      1.6383,
      0.0,
      1.0,
      1.8349,
      1.8349,
      1.0,
      1.0,
      1.8349,
      1.8349,
      1.0,
      2.0,
      1.5168,
      1.5168,
      1.0,
      1.0,
      1.5168,
      1.5168,
      2.0,
      1.0,
      1.0,
      2.1651,
      0.6116,
      1.1799,
      1.1799,
      1.8349,
      1.8349,
      3.0,
      1.0,
      2.0,
      0.4832,
      0.0506,
      0.3186,
      0.3186,
      1.5168,
      1.5168,
      0.0,
      1.0,
      1.8349,
      1.8349,
      1.0,
      1.0,
      1.8349,
      1.8349,
      1.0,
      2.0,
      1.5168,
      1.5168,
      1.0,
      1.0,
      1.5168,
      1.5168,
      2.0,
      1.0,
      1.0,
      2.1651,
      0.6116,
      1.1799,
      1.1799,
      1.8349,
      1.8349,
      3.0,
      1.0,
      2.0,
      0.4832,
      0.0506,
      0.3186,
      0.3186,
      1.5168,
      1.5168,
      0.0,
      1.0,
      1.8349,
      1.8349,
      1.0,
      1.0,
      1.8349,
      1.8349,
      1.0,
      2.0,
      1.5168,
      1.5168,
      1.0,
      1.0,
      1.5168,
      1.5168,
      2.0,
      1.0,
      1.0,
      2.1651,
      0.6116,
      1.1799,
      1.1799,
      1.8349,
      1.8349,
      3.0,
      1.0,
      2.0,
      0.4832,
      0.0506,
      0.3186,
      0.3186,
      1.5168,
      1.5168,
      0.0,
      1.0,
      1.8349,
      1.8349,
      1.0,
      1.0,
      1.8349,
      1.8349,
      1.0,
      2.0,
      1.5168,
      1.5168,
      1.0,
      1.0,
      1.5168,
      1.5168,
      2.0,
      1.0,
      1.0,
      2.1651,
      0.6116,
      1.1799,
      1.1799,
      1.8349,
      1.8349,
      3.0,
      1.0,
      2.0,
      0.4832,
      0.0506,
      0.3186,
      0.3186,
      1.5168,
      1.5168,
      0.0,
      1.0,
      2.4671,
      2.4671,
      1.0,
      1.0,
      2.4671,
      2.4671,
      1.0,
      2.0,
      1.3804,
      1.3804,
      1.0,
      1.0,
      1.3804,
      1.3804,
      2.0,
      1.0,
      1.0,
      1.5329,
      0.8224,
      0.6214,
      0.6214,
      2.4671,
      2.4671,
      3.0,
      1.0,
      2.0,
      0.6196,
      0.046,
      0.4489,
      0.4489,
      1.3804,
      1.3804,
      0.0,
      1.0,
      1.7794,
      1.7794,
      1.0,
      1.0,
      1.7794,
      1.7794,
      1.0,
      2.0,
      1.2993,
      1.2993,
      1.0,
      1.0,
      1.2993,
      1.2993,
      2.0,
      1.0,
      1.0,
      2.2206,
      0.5931,
      1.248,
      1.248,
      1.7794,
      1.7794,
      3.0,
      1.0,
      2.0,
      0.7007,
      0.0433,
      0.5393,
      0.5393,
      1.2993,
      1.2993,
      0.0,
      1.0,
      1.9542,
      1.9542,
      1.0,
      1.0,
      1.9542,
      1.9542,
      1.0,
      2.0,
      1.757,
      1.757,
      1.0,
      1.0,
      1.757,
      1.757,
      2.0,
      1.0,
      1.0,
      2.0458,
      0.6301,
      1.0468,
      1.0468,
      1.9542,
      1.9542,
      3.0,
      1.0,
      2.0,
      0.243,
      0.0697,
      0.1383,
      0.1383,
      1.757,
      1.757
    ]
  },
  "metadata": {
    "notebook_path": "closedQN/cqn_repairmen_multi.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 3,
    "code_cells": 3,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}