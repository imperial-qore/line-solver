{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\n\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:12:53.735228Z",
          "start_time": "2025-07-30T22:12:52.847266Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:09:00.530823Z",
          "iopub.execute_input": "2026-01-02T14:09:00.530905Z",
          "shell.execute_reply": "2026-01-02T14:09:01.355586Z",
          "iopub.status.idle": "2026-01-02T14:09:01.356005Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "model = Network('model')\n\nnode = np.empty(3, dtype=object)\nnode[0] = Delay(model, 'Delay')\nnode[1] = Queue(model, 'Queue1', SchedStrategy.FCFS)\nnode[2] = Queue(model, 'Queue2', SchedStrategy.FCFS)\n\njobclass = np.empty(2, dtype=object)\njobclass[0] = ClosedClass(model, 'Class1', 10, node[0], 0)\njobclass[1] = ClosedClass(model, 'Class2', 10, node[0], 0)\n\nnode[0].set_service(jobclass[0], Exp.fit_mean(1.0))  # mean = 1\nnode[1].set_service(jobclass[0], Exp.fit_mean(1.5))  # mean = 1.5\nnode[2].set_service(jobclass[0], Exp.fit_mean(3.0))  # mean = 3.0\n\nnode[0].set_service(jobclass[1], Exp.fit_mean(1.0))  # mean = 1\nnode[1].set_service(jobclass[1], Exp.fit_mean(1.5))  # mean = 1.5\nnode[2].set_service(jobclass[1], Exp.fit_mean(3.0))  # mean = 3.0\n\nP = model.init_routing_matrix()\nP.set(jobclass[0], jobclass[0], node[0], node[1], 1.0)\nP.set(jobclass[0], jobclass[0], node[1], node[2], 1.0)\nP.set(jobclass[0], jobclass[0], node[2], node[0], 1.0)\n\nP.set(jobclass[1], jobclass[1], node[0], node[1], 1.0)\nP.set(jobclass[1], jobclass[1], node[1], node[2], 1.0)\nP.set(jobclass[1], jobclass[1], node[2], node[0], 1.0)\n\nmodel.link(P)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:12:53.817630Z",
          "start_time": "2025-07-30T22:12:53.796695Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:09:01.359797Z",
          "iopub.execute_input": "2026-01-02T14:09:01.360064Z",
          "shell.execute_reply": "2026-01-02T14:09:01.383830Z",
          "iopub.status.idle": "2026-01-02T14:09:01.384242Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# Solve with MVA only (following MATLAB example)\noptions = MVA.default_options()\nsolver = np.array([], dtype=object)\nsolver = np.append(solver, MVA(model, options))\n\nAvgTable = np.empty(len(solver), dtype=object)\nfor s in range(len(solver)):\n    print(f'SOLVER: {solver[s].get_name()}')\n    AvgTable[s] = solver[s].avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:12:53.942740Z",
          "start_time": "2025-07-30T22:12:53.848850Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:09:01.385476Z",
          "iopub.execute_input": "2026-01-02T14:09:01.385735Z",
          "iopub.status.idle": "2026-01-02T14:09:01.541867Z",
          "shell.execute_reply": "2026-01-02T14:09:01.541487Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "SOLVER: SolverMVA\n  Station JobClass    QLen    Util    RespT   ResidT    ArvR    Tput\n0   Delay   Class1  0.1667  0.1667   1.0000   1.0000  0.1667  0.1667\n1   Delay   Class2  0.1667  0.1667   1.0000   1.0000  0.1667  0.1667\n2  Queue1   Class1  0.5000  0.2500   3.0000   3.0000  0.1667  0.1667\n3  Queue1   Class2  0.5000  0.2500   3.0000   3.0000  0.1667  0.1667\n4  Queue2   Class1  9.3333  0.5000  56.0001  56.0001  0.1667  0.1667\n5  Queue2   Class2  9.3333  0.5000  56.0001  56.0001  0.1667  0.1667\n",
            "numerical_values": [
              0.0,
              1.0,
              0.1667,
              0.1667,
              1.0,
              1.0,
              0.1667,
              0.1667,
              1.0,
              2.0,
              0.1667,
              0.1667,
              1.0,
              1.0,
              0.1667,
              0.1667,
              2.0,
              1.0,
              1.0,
              0.5,
              0.25,
              3.0,
              3.0,
              0.1667,
              0.1667,
              3.0,
              1.0,
              2.0,
              0.5,
              0.25,
              3.0,
              3.0,
              0.1667,
              0.1667,
              4.0,
              2.0,
              1.0,
              9.3333,
              0.5,
              56.0001,
              56.0001,
              0.1667,
              0.1667,
              5.0,
              2.0,
              2.0,
              9.3333,
              0.5,
              56.0001,
              56.0001,
              0.1667,
              0.1667
            ]
          }
        }
      ],
      "execution_count": 3
    }
  },
  "numerical_summary": {
    "cell_2": [
      0.0,
      1.0,
      0.1667,
      0.1667,
      1.0,
      1.0,
      0.1667,
      0.1667,
      1.0,
      2.0,
      0.1667,
      0.1667,
      1.0,
      1.0,
      0.1667,
      0.1667,
      2.0,
      1.0,
      1.0,
      0.5,
      0.25,
      3.0,
      3.0,
      0.1667,
      0.1667,
      3.0,
      1.0,
      2.0,
      0.5,
      0.25,
      3.0,
      3.0,
      0.1667,
      0.1667,
      4.0,
      2.0,
      1.0,
      9.3333,
      0.5,
      56.0001,
      56.0001,
      0.1667,
      0.1667,
      5.0,
      2.0,
      2.0,
      9.3333,
      0.5,
      56.0001,
      56.0001,
      0.1667,
      0.1667
    ]
  },
  "metadata": {
    "notebook_path": "closedQN/cqn_twoqueues_multi.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 3,
    "code_cells": 3,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}