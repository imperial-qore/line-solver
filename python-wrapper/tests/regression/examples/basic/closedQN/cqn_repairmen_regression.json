{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "collapsed": false,
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:39.997768Z",
          "start_time": "2025-07-30T22:14:39.119454Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:35.451345Z",
          "iopub.execute_input": "2026-01-02T14:08:35.451457Z",
          "shell.execute_reply": "2026-01-02T14:08:36.388886Z",
          "iopub.status.idle": "2026-01-02T14:08:36.389314Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "model = Network('model')\n\nnode = np.empty(2, dtype=object)\nnode[0] = Delay(model, 'Delay')\nnode[1] = Queue(model, 'Queue1', SchedStrategy.FCFS)\n\njobclass = ClosedClass(model, 'Class1', 10, node[0], 0)\n\nnode[0].set_service(jobclass, Exp.fit_mean(1.0)) # mean = 1\nnode[1].set_service(jobclass, Exp.fit_mean(1.5)) # mean = 1.5\n\nP = model.init_routing_matrix()\npmatrix = [[0.7,0.3],[1.0,0]]\nfor i in range(len(node)):\n    for j in range(len(node)):\n        P.set(jobclass, jobclass, node[i], node[j], pmatrix[i][j])        \nmodel.link(P)",
      "metadata": {
        "collapsed": false,
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:40.086291Z",
          "start_time": "2025-07-30T22:14:40.057800Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:36.390677Z",
          "iopub.execute_input": "2026-01-02T14:08:36.390848Z",
          "shell.execute_reply": "2026-01-02T14:08:36.410725Z",
          "iopub.status.idle": "2026-01-02T14:08:36.411069Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# Aligned with JAR test scenarios for cqn_repairmen\n# JAR tests: CTMC(), JMT(seed=23000), MVA(), MAM(), NC(method=\"exact\"), \n#           SSA(seed=23000, samples=5000), Fluid(), DES(seed=23000, samples=5000)\n\nsolver = np.array([], dtype=object)\n\n# CTMC with default settings (matches JAR)\nsolver = np.append(solver, CTMC(model))\n\n# JMT with seed=23000 (matches JAR) \nsolver = np.append(solver, JMT(model, seed=23000))\n\n# MVA with default settings (matches JAR)\nsolver = np.append(solver, MVA(model))\n\n# MAM with default settings (matches JAR)\nsolver = np.append(solver, MAM(model))\n\n# NC with method=\"exact\" (matches JAR)\nsolver = np.append(solver, NC(model, method='exact'))\n\n# SSA with seed=23000, samples=5000 (matches JAR)\nsolver = np.append(solver, SSA(model, seed=23000, samples=5000))\n\n# Fluid with default settings (matches JAR)\nsolver = np.append(solver, FLD(model))\n\n# DES with seed=23000, samples=5000 (matches MATLAB)\nsolver = np.append(solver, DES(model, seed=23000, samples=5000))\n\nAvgTable = np.empty(len(solver), dtype=object)\nfor s in range(len(solver)):\n    print(f'\\\\nSOLVER: {solver[s].get_name()}')\n    AvgTable[s] = solver[s].avg_table()",
      "metadata": {
        "collapsed": false,
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:41.689397Z",
          "start_time": "2025-07-30T22:14:40.112320Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:36.412188Z",
          "iopub.execute_input": "2026-01-02T14:08:36.412352Z",
          "iopub.status.idle": "2026-01-02T14:08:37.785849Z",
          "shell.execute_reply": "2026-01-02T14:08:37.785390Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\\nSOLVER: SolverCTMC\n  Station JobClass   QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  2.222  2.2220   1.000  1.0000  2.2220  2.2220\n1  Queue1   Class1  7.778  0.9999  11.668  3.5004  0.6666  0.6666\n\\nSOLVER: SolverJMT\nJMT Model: /tmp/workspace/jsim/8911588743506159005/jmodel.jsim\n",
            "numerical_values": [
              0.0,
              1.0,
              2.222,
              2.222,
              1.0,
              1.0,
              2.222,
              2.222,
              1.0,
              1.0,
              1.0,
              7.778,
              0.9999,
              11.668,
              3.5004,
              0.6666,
              0.6666,
              8.911588743506159e+18
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "  Station JobClass    QLen    Util    RespT  ResidT    ArvR    Tput\n0   Delay   Class1  2.1909  2.1909   1.0081  1.0081  2.2124  2.2129\n1  Queue1   Class1  7.7331  0.9998  11.5734  3.4720  0.6757  0.6802\n\\nSOLVER: SolverMVA\n  Station JobClass   QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  2.222  2.2220   1.000  1.0000  2.2220  2.2220\n1  Queue1   Class1  7.778  0.9999  11.668  3.5004  0.6666  0.6666\n\\nSOLVER: SolverMAM\n  Station JobClass    QLen    Util    RespT  ResidT    ArvR    Tput\n0   Delay   Class1  2.2222  2.2222   1.0000  1.0000  2.2222  2.2222\n1  Queue1   Class1  7.8641  1.0000  11.7961  3.5388  0.6667  0.6667\n\\nSOLVER: SolverNC\n  Station JobClass   QLen    Util   RespT  ResidT    ArvR    Tput\n0   Delay   Class1  2.222  2.2220   1.000  1.0000  2.2220  2.2220\n1  Queue1   Class1  7.778  0.9999  11.668  3.5004  0.6666  0.6666\n\\nSOLVER: SolverSSA\nSSA samples:      2 \b\b\b\b\b\b\b    100\b\b\b\b\b\b\b    200\b\b\b\b\b\b\b    300\b\b\b\b\b\b\b    400\b\b\b\b\b\b\b    500\b\b\b\b\b\b\b    600\b\b\b\b\b\b\b    700\b\b\b\b\b\b\b    800\b\b\b\b\b\b\b    900\b\b\b\b\b\b\b   1000\b\b\b\b\b\b\b   1100\b\b\b\b\b\b\b   1200\b\b\b\b\b\b\b   1300\b\b\b\b\b\b\b   1400",
            "numerical_values": [
              0.0,
              1.0,
              2.1909,
              2.1909,
              1.0081,
              1.0081,
              2.2124,
              2.2129,
              1.0,
              1.0,
              1.0,
              7.7331,
              0.9998,
              11.5734,
              3.472,
              0.6757,
              0.6802,
              0.0,
              1.0,
              2.222,
              2.222,
              1.0,
              1.0,
              2.222,
              2.222,
              1.0,
              1.0,
              1.0,
              7.778,
              0.9999,
              11.668,
              3.5004,
              0.6666,
              0.6666,
              0.0,
              1.0,
              2.2222,
              2.2222,
              1.0,
              1.0,
              2.2222,
              2.2222,
              1.0,
              1.0,
              1.0,
              7.8641,
              1.0,
              11.7961,
              3.5388,
              0.6667,
              0.6667,
              0.0,
              1.0,
              2.222,
              2.222,
              1.0,
              1.0,
              2.222,
              2.222,
              1.0,
              1.0,
              1.0,
              7.778,
              0.9999,
              11.668,
              3.5004,
              0.6666,
              0.6666,
              2.0,
              100.0,
              200.0,
              300.0,
              400.0,
              500.0,
              600.0,
              700.0,
              800.0,
              900.0,
              1000.0,
              1100.0,
              1200.0,
              1300.0,
              1400.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\b\b\b\b\b\b\b   1500\b\b\b\b\b\b\b   1600\b\b\b\b\b\b\b   1700\b\b\b\b\b\b\b   1800\b\b\b\b\b\b\b   1900\b\b\b\b\b\b\b   2000\b\b\b\b\b\b\b   2100\b\b\b\b\b\b\b   2200\b\b\b\b\b\b\b   2300\b\b\b\b\b\b\b   2400\b\b\b\b\b\b\b   2500\b\b\b\b\b\b\b   2600\b\b\b\b\b\b\b   2700\b\b\b\b\b\b\b   2800\b\b\b\b\b\b\b   2900\b\b\b\b\b\b\b   3000\b\b\b\b\b\b\b   3100\b\b\b\b\b\b\b   3200\b\b\b\b\b\b\b   3300\b\b\b\b\b\b\b   3400\b\b\b\b\b\b\b   3500\b\b\b\b\b\b\b   3600\b\b\b\b\b\b\b   3700\b\b\b\b\b\b\b   3800\b\b\b\b\b\b\b   3900\b\b\b\b\b\b\b   4000\b\b\b\b\b\b\b   4100",
            "numerical_values": [
              1500.0,
              1600.0,
              1700.0,
              1800.0,
              1900.0,
              2000.0,
              2100.0,
              2200.0,
              2300.0,
              2400.0,
              2500.0,
              2600.0,
              2700.0,
              2800.0,
              2900.0,
              3000.0,
              3100.0,
              3200.0,
              3300.0,
              3400.0,
              3500.0,
              3600.0,
              3700.0,
              3800.0,
              3900.0,
              4000.0,
              4100.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\b\b\b\b\b\b\b   4200\b\b\b\b\b\b\b   4300\b\b\b\b\b\b\b   4400\b\b\b\b\b\b\b   4500\b\b\b\b\b\b\b   4600\b\b\b\b\b\b\b   4700\b\b\b\b\b\b\b   4800\b\b\b\b\b\b\b   4900\b\b\b\b\b\b\b   5000\n  Station JobClass    QLen    Util    RespT  ResidT    ArvR    Tput\n0   Delay   Class1  2.1107  2.1107   1.0000  1.0000  2.1440  2.1107\n1  Queue1   Class1  7.8893  0.0000  11.8379  3.5514  0.6332  0.6664\n\\nSOLVER: SolverFluid\n  Station JobClass    QLen    Util    RespT  ResidT    ArvR    Tput\n0   Delay   Class1  2.2222  2.2222   1.0000     1.0  2.2222  2.2222\n1  Queue1   Class1  7.7778  1.0000  11.6667     3.5  0.6667  0.6667\n\\nSOLVER: SolverDES\nDES: Transient filter = mser5 (batch size = 5)\nDES: CI method = obm (overlap = 0.5)\nDES events:    100 \b\b\b\b\b\b\b    200\b\b\b\b\b\b\b    300\b\b\b\b\b\b\b    400\b\b\b\b\b\b\b    500\b\b\b\b\b\b\b    600\b\b\b\b\b\b\b    700\b\b\b\b\b\b\b    800\b\b\b\b\b\b\b    900\b\b\b\b\b\b\b   1000\b\b\b\b\b\b\b   1100\b\b\b\b\b\b\b   1200\b\b\b\b\b\b\b   1300\b\b\b\b\b\b\b   1400\b\b\b\b\b\b\b   1500\b\b\b\b\b\b\b   1600\b\b\b\b\b\b\b   1700\b\b\b\b\b\b\b   1800\b\b\b\b\b\b\b   1900\b\b\b\b\b\b\b   2000\b\b\b\b\b\b\b   2100\b\b\b\b\b\b\b   2200\b\b\b\b\b\b\b   2300\b\b\b\b\b\b\b   2400\b\b\b\b\b\b\b   2500\b\b\b\b\b\b\b   2600\b\b\b\b\b\b\b   2700\b\b\b\b\b\b\b   2800\b\b\b\b\b\b\b   2900\b\b\b\b\b\b\b   3000\b\b\b\b\b\b\b   3100\b\b\b\b\b\b\b   3200\b\b\b\b\b\b\b   3300\b\b\b\b\b\b\b   3400\b\b\b\b\b\b\b   3500\b\b\b\b\b\b\b   3600\b\b\b\b\b\b\b   3700\b\b\b\b\b\b\b   3800\b\b\b\b\b\b\b   3900\b\b\b\b\b\b\b   4000\b\b\b\b\b\b\b   4100\b\b\b\b\b\b\b   4200\b\b\b\b\b\b\b   4300\b\b\b\b\b\b\b   4400\b\b\b\b\b\b\b   4500\b\b\b\b\b\b\b   4600\b\b\b\b\b\b\b   4700\b\b\b\b\b\b\b   4800\b\b\b\b\b\b\b   4900\b\b\b\b\b\b\b   5000\b\b\b\b\b\b\b   5000\n  Station JobClass    QLen    Util    RespT  ResidT    ArvR    Tput\n0   Delay   Class1  2.9411  2.9411   0.9909  0.9909  2.2134  2.2214\n1  Queue1   Class1  7.0589  0.9995  11.7862  3.5359  0.6664  0.6584\n",
            "numerical_values": [
              4200.0,
              4300.0,
              4400.0,
              4500.0,
              4600.0,
              4700.0,
              4800.0,
              4900.0,
              5000.0,
              0.0,
              1.0,
              2.1107,
              2.1107,
              1.0,
              1.0,
              2.144,
              2.1107,
              1.0,
              1.0,
              1.0,
              7.8893,
              0.0,
              11.8379,
              3.5514,
              0.6332,
              0.6664,
              0.0,
              1.0,
              2.2222,
              2.2222,
              1.0,
              1.0,
              2.2222,
              2.2222,
              1.0,
              1.0,
              1.0,
              7.7778,
              1.0,
              11.6667,
              3.5,
              0.6667,
              0.6667,
              5.0,
              5.0,
              0.5,
              100.0,
              200.0,
              300.0,
              400.0,
              500.0,
              600.0,
              700.0,
              800.0,
              900.0,
              1000.0,
              1100.0,
              1200.0,
              1300.0,
              1400.0,
              1500.0,
              1600.0,
              1700.0,
              1800.0,
              1900.0,
              2000.0,
              2100.0,
              2200.0,
              2300.0,
              2400.0,
              2500.0,
              2600.0,
              2700.0,
              2800.0,
              2900.0,
              3000.0,
              3100.0,
              3200.0,
              3300.0,
              3400.0,
              3500.0,
              3600.0,
              3700.0,
              3800.0,
              3900.0,
              4000.0,
              4100.0,
              4200.0,
              4300.0,
              4400.0,
              4500.0,
              4600.0,
              4700.0,
              4800.0,
              4900.0,
              5000.0,
              5000.0,
              0.0,
              1.0,
              2.9411,
              2.9411,
              0.9909,
              0.9909,
              2.2134,
              2.2214,
              1.0,
              1.0,
              1.0,
              7.0589,
              0.9995,
              11.7862,
              3.5359,
              0.6664,
              0.6584
            ]
          }
        }
      ],
      "execution_count": 3
    }
  },
  "numerical_summary": {
    "cell_2": [
      0.0,
      1.0,
      2.222,
      2.222,
      1.0,
      1.0,
      2.222,
      2.222,
      1.0,
      1.0,
      1.0,
      7.778,
      0.9999,
      11.668,
      3.5004,
      0.6666,
      0.6666,
      8.911588743506159e+18,
      0.0,
      1.0,
      2.1909,
      2.1909,
      1.0081,
      1.0081,
      2.2124,
      2.2129,
      1.0,
      1.0,
      1.0,
      7.7331,
      0.9998,
      11.5734,
      3.472,
      0.6757,
      0.6802,
      0.0,
      1.0,
      2.222,
      2.222,
      1.0,
      1.0,
      2.222,
      2.222,
      1.0,
      1.0,
      1.0,
      7.778,
      0.9999,
      11.668,
      3.5004,
      0.6666,
      0.6666,
      0.0,
      1.0,
      2.2222,
      2.2222,
      1.0,
      1.0,
      2.2222,
      2.2222,
      1.0,
      1.0,
      1.0,
      7.8641,
      1.0,
      11.7961,
      3.5388,
      0.6667,
      0.6667,
      0.0,
      1.0,
      2.222,
      2.222,
      1.0,
      1.0,
      2.222,
      2.222,
      1.0,
      1.0,
      1.0,
      7.778,
      0.9999,
      11.668,
      3.5004,
      0.6666,
      0.6666,
      2.0,
      100.0,
      200.0,
      300.0,
      400.0,
      500.0,
      600.0,
      700.0,
      800.0,
      900.0,
      1000.0,
      1100.0,
      1200.0,
      1300.0,
      1400.0,
      1500.0,
      1600.0,
      1700.0,
      1800.0,
      1900.0,
      2000.0,
      2100.0,
      2200.0,
      2300.0,
      2400.0,
      2500.0,
      2600.0,
      2700.0,
      2800.0,
      2900.0,
      3000.0,
      3100.0,
      3200.0,
      3300.0,
      3400.0,
      3500.0,
      3600.0,
      3700.0,
      3800.0,
      3900.0,
      4000.0,
      4100.0,
      4200.0,
      4300.0,
      4400.0,
      4500.0,
      4600.0,
      4700.0,
      4800.0,
      4900.0,
      5000.0,
      0.0,
      1.0,
      2.1107,
      2.1107,
      1.0,
      1.0,
      2.144,
      2.1107,
      1.0,
      1.0,
      1.0,
      7.8893,
      0.0,
      11.8379,
      3.5514,
      0.6332,
      0.6664,
      0.0,
      1.0,
      2.2222,
      2.2222,
      1.0,
      1.0,
      2.2222,
      2.2222,
      1.0,
      1.0,
      1.0,
      7.7778,
      1.0,
      11.6667,
      3.5,
      0.6667,
      0.6667,
      5.0,
      5.0,
      0.5,
      100.0,
      200.0,
      300.0,
      400.0,
      500.0,
      600.0,
      700.0,
      800.0,
      900.0,
      1000.0,
      1100.0,
      1200.0,
      1300.0,
      1400.0,
      1500.0,
      1600.0,
      1700.0,
      1800.0,
      1900.0,
      2000.0,
      2100.0,
      2200.0,
      2300.0,
      2400.0,
      2500.0,
      2600.0,
      2700.0,
      2800.0,
      2900.0,
      3000.0,
      3100.0,
      3200.0,
      3300.0,
      3400.0,
      3500.0,
      3600.0,
      3700.0,
      3800.0,
      3900.0,
      4000.0,
      4100.0,
      4200.0,
      4300.0,
      4400.0,
      4500.0,
      4600.0,
      4700.0,
      4800.0,
      4900.0,
      5000.0,
      5000.0,
      0.0,
      1.0,
      2.9411,
      2.9411,
      0.9909,
      0.9909,
      2.2134,
      2.2214,
      1.0,
      1.0,
      1.0,
      7.0589,
      0.9995,
      11.7862,
      3.5359,
      0.6664,
      0.6584
    ]
  },
  "metadata": {
    "notebook_path": "closedQN/cqn_repairmen.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 3,
    "code_cells": 3,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}