{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "collapsed": false,
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:54.494913Z",
          "start_time": "2025-07-30T22:14:53.578853Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:31.351214Z",
          "iopub.execute_input": "2026-01-02T14:08:31.351335Z",
          "iopub.status.idle": "2026-01-02T14:08:32.470953Z",
          "shell.execute_reply": "2026-01-02T14:08:32.470616Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "model = Network('model')\n\n# Block 1: nodes\nnode1 = Delay(model, \"Delay\")\nnode2 = Queue(model, \"Queue1\", SchedStrategy.FCFS)\nnode3 = Queue(model, \"Queue2\", SchedStrategy.FCFS)\nnode2.set_number_of_servers(3)\nnode3.set_number_of_servers(3)\n\n# Block 2: classes\njobclass1 = ClosedClass(model, \"Class1\", 2, node1, 0)\njobclass2 = ClosedClass(model, \"Class2\", 2, node1, 0)\njobclass3 = ClosedClass(model, \"Class3\", 2, node1, 0)\njobclass4 = ClosedClass(model, \"Class4\", 1, node1, 0)\n\nnode1.set_service(jobclass1, Exp(1)) # (Delay,Class1)\nnode1.set_service(jobclass2, Exp(1)) # (Delay,Class2)\nnode1.set_service(jobclass3, Exp(10)) # (Delay,Class3)\nnode1.set_service(jobclass4, Exp(1)) # (Delay,Class4)\n\nnode2.set_service(jobclass1, Exp(1)) # (Queue1,Class1)\nnode2.set_service(jobclass2, Erlang(1, 2)) # (Queue1,Class2)\nnode2.set_service(jobclass3, Exp(10)) # (Queue1,Class3)\nnode2.set_service(jobclass4, Exp(1)) # (Queue1,Class4)\n\nnode3.set_service(jobclass1, Disabled()) # (Queue2,Class1)\nnode3.set_service(jobclass2, Disabled()) # (Queue2,Class2)\nnode3.set_service(jobclass3, Erlang(1, 2)) # (Queue2,Class3)\nnode3.set_service(jobclass4, Exp(1)) # (Queue2,Class4)\n\n# Block 3: topology\nroutingMatrix = model.init_routing_matrix()\n\nroutingMatrix.set(jobclass1, jobclass1, node1, node2, 0.50)\nroutingMatrix.set(jobclass1, jobclass1, node2, node1, 1.00)\nroutingMatrix.set(jobclass1, jobclass1, node3, node1, 1.00)\n\nroutingMatrix.set(jobclass1, jobclass2, node1, node2, 0.50)\n\nroutingMatrix.set(jobclass2, jobclass2, node2, node1, 1.00)\nroutingMatrix.set(jobclass2, jobclass2, node3, node1, 1.00)\n\nroutingMatrix.set(jobclass2, jobclass1, node1, node2, 1.00)\n\nroutingMatrix.set(jobclass3, jobclass3, node1, node2, 0.25)\nroutingMatrix.set(jobclass3, jobclass3, node1, node3, 0.25)\nroutingMatrix.set(jobclass3, jobclass3, node2, node1, 1.00)\nroutingMatrix.set(jobclass3, jobclass3, node3, node1, 1.00)\n\nroutingMatrix.set(jobclass3, jobclass4, node1, node2, 0.50)\n\nroutingMatrix.set(jobclass4, jobclass4, node2, node1, 1.00)\nroutingMatrix.set(jobclass4, jobclass4, node3, node1, 1.00)\n\nroutingMatrix.set(jobclass4, jobclass3, node1, node2, 1.00)\n\nmodel.link(routingMatrix)\n\n# Create nodes array for State operations\nnode = np.array([node1, node2, node3])\n\n# State operations like MATLAB - using node index 1 (second node, node2)\nspaceRunning = State.fromMarginalAndRunning(model, 1, [2,1,1,1], [2,1,0,0])\nspaceStarted = State.fromMarginalAndStarted(model, 1, [2,1,1,1], [2,1,0,0])\nspace = State.fromMarginal(model, 1, [2,1,1,1])",
      "metadata": {
        "collapsed": false,
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:54.684600Z",
          "start_time": "2025-07-30T22:14:54.548464Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:32.472264Z",
          "iopub.execute_input": "2026-01-02T14:08:32.472428Z",
          "iopub.status.idle": "2026-01-02T14:08:32.535443Z",
          "shell.execute_reply": "2026-01-02T14:08:32.535022Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# This example demonstrates State operations as shown in MATLAB\nprint(\"spaceRunning:\", spaceRunning)\nprint(\"spaceStarted:\", spaceStarted)\nprint(\"space:\", space)",
      "metadata": {
        "collapsed": false,
        "ExecuteTime": {
          "end_time": "2025-07-30T22:14:54.695363Z",
          "start_time": "2025-07-30T22:14:54.693038Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:32.536820Z",
          "iopub.execute_input": "2026-01-02T14:08:32.537036Z",
          "iopub.status.idle": "2026-01-02T14:08:32.540367Z",
          "shell.execute_reply": "2026-01-02T14:08:32.540021Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "spaceRunning: [[4. 3. 2. 1. 0. 0. 0.]\n [4. 3. 2. 0. 1. 0. 0.]\n [3. 4. 2. 1. 0. 0. 0.]\n [3. 4. 2. 0. 1. 0. 0.]]\nspaceStarted: [[4. 3. 2. 1. 0. 0. 0.]\n [3. 4. 2. 1. 0. 0. 0.]]\nspace: [[4. 3. 2. 1. 0. 0. 0.]\n [4. 3. 2. 0. 1. 0. 0.]\n [4. 2. 2. 0. 0. 1. 0.]\n [4. 1. 1. 1. 0. 1. 0.]\n [4. 1. 1. 0. 1. 1. 0.]\n [3. 4. 2. 1. 0. 0. 0.]\n [3. 4. 2. 0. 1. 0. 0.]\n [3. 2. 2. 0. 0. 0. 1.]\n [3. 1. 1. 1. 0. 0. 1.]\n [3. 1. 1. 0. 1. 0. 1.]\n [2. 4. 2. 0. 0. 1. 0.]\n [2. 3. 2. 0. 0. 0. 1.]\n [2. 1. 1. 0. 0. 1. 1.]\n [1. 4. 1. 1. 0. 1. 0.]\n [1. 4. 1. 0. 1. 1. 0.]\n [1. 3. 1. 1. 0. 0. 1.]\n [1. 3. 1. 0. 1. 0. 1.]\n [1. 2. 1. 0. 0. 1. 1.]\n [1. 1. 0. 1. 0. 1. 1.]\n [1. 1. 0. 0. 1. 1. 1.]]\n",
            "numerical_values": [
              4.0,
              3.0,
              2.0,
              1.0,
              0.0,
              0.0,
              0.0,
              4.0,
              3.0,
              2.0,
              0.0,
              1.0,
              0.0,
              0.0,
              3.0,
              4.0,
              2.0,
              1.0,
              0.0,
              0.0,
              0.0,
              3.0,
              4.0,
              2.0,
              0.0,
              1.0,
              0.0,
              0.0,
              4.0,
              3.0,
              2.0,
              1.0,
              0.0,
              0.0,
              0.0,
              3.0,
              4.0,
              2.0,
              1.0,
              0.0,
              0.0,
              0.0,
              4.0,
              3.0,
              2.0,
              1.0,
              0.0,
              0.0,
              0.0,
              4.0,
              3.0,
              2.0,
              0.0,
              1.0,
              0.0,
              0.0,
              4.0,
              2.0,
              2.0,
              0.0,
              0.0,
              1.0,
              0.0,
              4.0,
              1.0,
              1.0,
              1.0,
              0.0,
              1.0,
              0.0,
              4.0,
              1.0,
              1.0,
              0.0,
              1.0,
              1.0,
              0.0,
              3.0,
              4.0,
              2.0,
              1.0,
              0.0,
              0.0,
              0.0,
              3.0,
              4.0,
              2.0,
              0.0,
              1.0,
              0.0,
              0.0,
              3.0,
              2.0,
              2.0,
              0.0,
              0.0,
              0.0,
              1.0,
              3.0,
              1.0,
              1.0,
              1.0,
              0.0,
              0.0,
              1.0,
              3.0,
              1.0,
              1.0,
              0.0,
              1.0,
              0.0,
              1.0,
              2.0,
              4.0,
              2.0,
              0.0,
              0.0,
              1.0,
              0.0,
              2.0,
              3.0,
              2.0,
              0.0,
              0.0,
              0.0,
              1.0,
              2.0,
              1.0,
              1.0,
              0.0,
              0.0,
              1.0,
              1.0,
              1.0,
              4.0,
              1.0,
              1.0,
              0.0,
              1.0,
              0.0,
              1.0,
              4.0,
              1.0,
              0.0,
              1.0,
              1.0,
              0.0,
              1.0,
              3.0,
              1.0,
              1.0,
              0.0,
              0.0,
              1.0,
              1.0,
              3.0,
              1.0,
              0.0,
              1.0,
              0.0,
              1.0,
              1.0,
              2.0,
              1.0,
              0.0,
              0.0,
              1.0,
              1.0,
              1.0,
              1.0,
              0.0,
              1.0,
              0.0,
              1.0,
              1.0,
              1.0,
              1.0,
              0.0,
              0.0,
              1.0,
              1.0,
              1.0
            ]
          }
        }
      ],
      "execution_count": 3
    }
  },
  "numerical_summary": {
    "cell_2": [
      4.0,
      3.0,
      2.0,
      1.0,
      0.0,
      0.0,
      0.0,
      4.0,
      3.0,
      2.0,
      0.0,
      1.0,
      0.0,
      0.0,
      3.0,
      4.0,
      2.0,
      1.0,
      0.0,
      0.0,
      0.0,
      3.0,
      4.0,
      2.0,
      0.0,
      1.0,
      0.0,
      0.0,
      4.0,
      3.0,
      2.0,
      1.0,
      0.0,
      0.0,
      0.0,
      3.0,
      4.0,
      2.0,
      1.0,
      0.0,
      0.0,
      0.0,
      4.0,
      3.0,
      2.0,
      1.0,
      0.0,
      0.0,
      0.0,
      4.0,
      3.0,
      2.0,
      0.0,
      1.0,
      0.0,
      0.0,
      4.0,
      2.0,
      2.0,
      0.0,
      0.0,
      1.0,
      0.0,
      4.0,
      1.0,
      1.0,
      1.0,
      0.0,
      1.0,
      0.0,
      4.0,
      1.0,
      1.0,
      0.0,
      1.0,
      1.0,
      0.0,
      3.0,
      4.0,
      2.0,
      1.0,
      0.0,
      0.0,
      0.0,
      3.0,
      4.0,
      2.0,
      0.0,
      1.0,
      0.0,
      0.0,
      3.0,
      2.0,
      2.0,
      0.0,
      0.0,
      0.0,
      1.0,
      3.0,
      1.0,
      1.0,
      1.0,
      0.0,
      0.0,
      1.0,
      3.0,
      1.0,
      1.0,
      0.0,
      1.0,
      0.0,
      1.0,
      2.0,
      4.0,
      2.0,
      0.0,
      0.0,
      1.0,
      0.0,
      2.0,
      3.0,
      2.0,
      0.0,
      0.0,
      0.0,
      1.0,
      2.0,
      1.0,
      1.0,
      0.0,
      0.0,
      1.0,
      1.0,
      1.0,
      4.0,
      1.0,
      1.0,
      0.0,
      1.0,
      0.0,
      1.0,
      4.0,
      1.0,
      0.0,
      1.0,
      1.0,
      0.0,
      1.0,
      3.0,
      1.0,
      1.0,
      0.0,
      0.0,
      1.0,
      1.0,
      3.0,
      1.0,
      0.0,
      1.0,
      0.0,
      1.0,
      1.0,
      2.0,
      1.0,
      0.0,
      0.0,
      1.0,
      1.0,
      1.0,
      1.0,
      0.0,
      1.0,
      0.0,
      1.0,
      1.0,
      1.0,
      1.0,
      0.0,
      0.0,
      1.0,
      1.0,
      1.0
    ]
  },
  "metadata": {
    "notebook_path": "closedQN/cqn_multiserver.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 3,
    "code_cells": 3,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}