{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.SILENT)\n\n# Clear variables (equivalent to MATLAB's clear solver AvgTable)\nsolver = None\nAvgTable = None",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:55.477924Z",
          "start_time": "2025-07-30T22:18:54.600749Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:10:12.272040Z",
          "iopub.execute_input": "2026-01-02T14:10:12.272183Z",
          "iopub.status.idle": "2026-01-02T14:10:13.288060Z",
          "shell.execute_reply": "2026-01-02T14:10:13.287728Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "# MATLAB: model = LayeredNetwork('myLayeredModel');\nmodel = LayeredNetwork('myLayeredModel')\n\n# definition of processors, tasks and entries\n# MATLAB: P1 = Processor(model, 'P1', 1, SchedStrategy.PS);\n# MATLAB: T1 = Task(model, 'T1', 100, SchedStrategy.REF).on(P1);\n# MATLAB: E1 = Entry(model, 'E1').on(T1);\nP1 = Processor(model, 'P1', 1, SchedStrategy.PS)\nT1 = Task(model, 'T1', 100, SchedStrategy.REF).on(P1)\nE1 = Entry(model, 'E1').on(T1)\n\n# MATLAB: P2 = Processor(model, 'P2', 1, SchedStrategy.PS);\n# MATLAB: T2 = Task(model, 'T2', 1, SchedStrategy.INF).on(P2);\n# MATLAB: E2 = Entry(model, 'E2').on(T2);\n# MATLAB: E3 = Entry(model, 'E3').on(T2);\nP2 = Processor(model, 'P2', 1, SchedStrategy.PS)\nT2 = Task(model, 'T2', 1, SchedStrategy.INF).on(P2)\nE2 = Entry(model, 'E2').on(T2)\nE3 = Entry(model, 'E3').on(T2)\n\n# definition of activities\n# MATLAB: T1.set_think_time(Erlang.fit_mean_and_order(10,1));\nT1.set_think_time(Erlang.fit_mean_and_order(10, 1))\n\n# MATLAB: A1 = Activity(model, 'A1', Exp(1)).on(T1).boundTo(E1).synchCall(E2).synchCall(E3,1);\nA1 = Activity(model, 'A1', Exp(1)).on(T1).bound_to(E1).synch_call(E2).synch_call(E3, 1)\n\n# MATLAB: A20 = Activity(model, 'A20', Exp(1)).on(T2).boundTo(E2);\n# MATLAB: A21 = Activity(model, 'A21', Exp(1)).on(T2);\n# MATLAB: A22 = Activity(model, 'A22', Exp(1)).on(T2).repliesTo(E2);\n# MATLAB: T2.add_precedence(ActivityPrecedence.Serial(A20, A21, A22));\nA20 = Activity(model, 'A20', Exp(1)).on(T2).bound_to(E2)\nA21 = Activity(model, 'A21', Exp(1)).on(T2)\nA22 = Activity(model, 'A22', Exp(1)).on(T2).replies_to(E2)\nT2.add_precedence(ActivityPrecedence.Serial(A20, A21))\nT2.add_precedence(ActivityPrecedence.Serial(A21, A22))\n\n# MATLAB: A3 = Activity(model, 'A3', Exp(1)).on(T2).boundTo(E3).repliesTo(E3);\nA3 = Activity(model, 'A3', Exp(1)).on(T2).bound_to(E3).replies_to(E3)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:55.541582Z",
          "start_time": "2025-07-30T22:18:55.528150Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:10:13.289418Z",
          "iopub.execute_input": "2026-01-02T14:10:13.289678Z",
          "iopub.status.idle": "2026-01-02T14:10:13.309339Z",
          "shell.execute_reply": "2026-01-02T14:10:13.308976Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# instantiate solvers\nsolvers = []\navg_tables = []\n\n# LQNS solver\noptions = LQNS.default_options()\noptions.keep = True\noptions.verbose = 0\nif LQNS.isAvailable():\n    solver_lqns = LQNS(model, options)\n    avg_table_lqns = solver_lqns.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:55.690507Z",
          "start_time": "2025-07-30T22:18:55.590669Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:10:13.310649Z",
          "iopub.execute_input": "2026-01-02T14:10:13.310879Z",
          "iopub.status.idle": "2026-01-02T14:10:13.464965Z",
          "shell.execute_reply": "2026-01-02T14:10:13.464735Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "   Node   NodeType     QLen  Util     RespT  ResidT  ArvR  Tput\n0    P1  Processor      NaN  0.25       NaN     0.0   0.0   NaN\n1    P2  Processor      NaN  1.00       NaN     0.0   0.0   NaN\n2    T1    RefTask  97.5000  0.25       NaN     0.0   0.0  0.25\n3    T2       Task  97.1681  1.00       NaN     0.0   0.0  0.50\n4    E1      Entry  97.5000  0.25  390.0000     0.0   0.0  0.25\n5    E2      Entry  72.8761  0.75  291.5040     0.0   0.0  0.25\n6    E3      Entry  24.2920  0.25   97.1682     0.0   0.0  0.25\n7    A1   Activity  97.5000  0.25  390.0000     0.0   0.0  0.25\n8   A20   Activity  24.2920  0.25   97.1682     0.0   0.0  0.25\n9   A21   Activity  24.2920  0.25   97.1682     0.0   0.0  0.25\n10  A22   Activity  24.2920  0.25   97.1682     0.0   0.0  0.25\n11   A3   Activity  24.2920  0.25   97.1682     0.0   0.0  0.25\n",
            "numerical_values": [
              0.0,
              1.0,
              0.25,
              0.0,
              0.0,
              1.0,
              2.0,
              1.0,
              0.0,
              0.0,
              2.0,
              1.0,
              97.5,
              0.25,
              0.0,
              0.0,
              0.25,
              3.0,
              2.0,
              97.1681,
              1.0,
              0.0,
              0.0,
              0.5,
              4.0,
              1.0,
              97.5,
              0.25,
              390.0,
              0.0,
              0.0,
              0.25,
              5.0,
              2.0,
              72.8761,
              0.75,
              291.504,
              0.0,
              0.0,
              0.25,
              6.0,
              3.0,
              24.292,
              0.25,
              97.1682,
              0.0,
              0.0,
              0.25,
              7.0,
              1.0,
              97.5,
              0.25,
              390.0,
              0.0,
              0.0,
              0.25,
              8.0,
              20.0,
              24.292,
              0.25,
              97.1682,
              0.0,
              0.0,
              0.25,
              9.0,
              21.0,
              24.292,
              0.25,
              97.1682,
              0.0,
              0.0,
              0.25,
              10.0,
              22.0,
              24.292,
              0.25,
              97.1682,
              0.0,
              0.0,
              0.25,
              11.0,
              3.0,
              24.292,
              0.25,
              97.1682,
              0.0,
              0.0,
              0.25
            ]
          }
        }
      ],
      "execution_count": 3
    },
    "cell_3": {
      "cell_type": "code",
      "source": "# LN solver with NC\nlnoptions = LN.default_options()\nlnoptions.verbose = 0\nsolveroptions = NC.default_options()\nsolveroptions.verbose = 0\nsolver_nc = LN(model, lambda l: NC(l, solveroptions), lnoptions)\navg_table_nc = solver_nc.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:56.157435Z",
          "start_time": "2025-07-30T22:18:55.693271Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:10:13.465723Z",
          "iopub.execute_input": "2026-01-02T14:10:13.465806Z",
          "shell.execute_reply": "2026-01-02T14:10:13.786165Z",
          "iopub.status.idle": "2026-01-02T14:10:13.787857Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "   Node   NodeType     QLen  Util    RespT   ResidT  ArvR  Tput\n0    P1  Processor      NaN  1.00      NaN      NaN   NaN   NaN\n1    P2  Processor      NaN  1.00      NaN      NaN   NaN   NaN\n2    T1       Task  89.9998  1.00      NaN  85.9978   NaN  1.00\n3    T2       Task   1.0000  1.00      NaN   2.0000   NaN  0.50\n4    E1      Entry  89.9998   NaN  89.9978      NaN   NaN  1.00\n5    E2      Entry   0.7500   NaN   3.0000      NaN   NaN  0.25\n6    E3      Entry   0.2500   NaN   1.0000      NaN   NaN  0.25\n7    A1   Activity  89.9998  1.00  89.9978  85.9978   NaN  1.00\n8   A20   Activity   0.2500  0.25   1.0000   0.5000   NaN  0.25\n9   A21   Activity   0.2500  0.25   1.0000   0.5000   NaN  0.25\n10  A22   Activity   0.2500  0.25   1.0000   0.5000   NaN  0.25\n11   A3   Activity   0.2500  0.25   1.0000   0.5000   NaN  0.25\n",
            "numerical_values": [
              0.0,
              1.0,
              1.0,
              1.0,
              2.0,
              1.0,
              2.0,
              1.0,
              89.9998,
              1.0,
              85.9978,
              1.0,
              3.0,
              2.0,
              1.0,
              1.0,
              2.0,
              0.5,
              4.0,
              1.0,
              89.9998,
              89.9978,
              1.0,
              5.0,
              2.0,
              0.75,
              3.0,
              0.25,
              6.0,
              3.0,
              0.25,
              1.0,
              0.25,
              7.0,
              1.0,
              89.9998,
              1.0,
              89.9978,
              85.9978,
              1.0,
              8.0,
              20.0,
              0.25,
              0.25,
              1.0,
              0.5,
              0.25,
              9.0,
              21.0,
              0.25,
              0.25,
              1.0,
              0.5,
              0.25,
              10.0,
              22.0,
              0.25,
              0.25,
              1.0,
              0.5,
              0.25,
              11.0,
              3.0,
              0.25,
              0.25,
              1.0,
              0.5,
              0.25
            ]
          }
        }
      ],
      "execution_count": 4
    },
    "cell_4": {
      "cell_type": "code",
      "source": "print(avg_table_nc)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:18:56.172887Z",
          "start_time": "2025-07-30T22:18:56.170038Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:10:13.789727Z",
          "iopub.execute_input": "2026-01-02T14:10:13.789911Z",
          "shell.execute_reply": "2026-01-02T14:10:13.795155Z",
          "iopub.status.idle": "2026-01-02T14:10:13.795595Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "   Node   NodeType     QLen  Util    RespT   ResidT  ArvR  Tput\n0    P1  Processor      NaN  1.00      NaN      NaN   NaN   NaN\n1    P2  Processor      NaN  1.00      NaN      NaN   NaN   NaN\n2    T1       Task  89.9998  1.00      NaN  85.9978   NaN  1.00\n3    T2       Task   1.0000  1.00      NaN   2.0000   NaN  0.50\n4    E1      Entry  89.9998   NaN  89.9978      NaN   NaN  1.00\n5    E2      Entry   0.7500   NaN   3.0000      NaN   NaN  0.25\n6    E3      Entry   0.2500   NaN   1.0000      NaN   NaN  0.25\n7    A1   Activity  89.9998  1.00  89.9978  85.9978   NaN  1.00\n8   A20   Activity   0.2500  0.25   1.0000   0.5000   NaN  0.25\n9   A21   Activity   0.2500  0.25   1.0000   0.5000   NaN  0.25\n10  A22   Activity   0.2500  0.25   1.0000   0.5000   NaN  0.25\n11   A3   Activity   0.2500  0.25   1.0000   0.5000   NaN  0.25\n",
            "numerical_values": [
              0.0,
              1.0,
              1.0,
              1.0,
              2.0,
              1.0,
              2.0,
              1.0,
              89.9998,
              1.0,
              85.9978,
              1.0,
              3.0,
              2.0,
              1.0,
              1.0,
              2.0,
              0.5,
              4.0,
              1.0,
              89.9998,
              89.9978,
              1.0,
              5.0,
              2.0,
              0.75,
              3.0,
              0.25,
              6.0,
              3.0,
              0.25,
              1.0,
              0.25,
              7.0,
              1.0,
              89.9998,
              1.0,
              89.9978,
              85.9978,
              1.0,
              8.0,
              20.0,
              0.25,
              0.25,
              1.0,
              0.5,
              0.25,
              9.0,
              21.0,
              0.25,
              0.25,
              1.0,
              0.5,
              0.25,
              10.0,
              22.0,
              0.25,
              0.25,
              1.0,
              0.5,
              0.25,
              11.0,
              3.0,
              0.25,
              0.25,
              1.0,
              0.5,
              0.25
            ]
          }
        }
      ],
      "execution_count": 5
    }
  },
  "numerical_summary": {
    "cell_2": [
      0.0,
      1.0,
      0.25,
      0.0,
      0.0,
      1.0,
      2.0,
      1.0,
      0.0,
      0.0,
      2.0,
      1.0,
      97.5,
      0.25,
      0.0,
      0.0,
      0.25,
      3.0,
      2.0,
      97.1681,
      1.0,
      0.0,
      0.0,
      0.5,
      4.0,
      1.0,
      97.5,
      0.25,
      390.0,
      0.0,
      0.0,
      0.25,
      5.0,
      2.0,
      72.8761,
      0.75,
      291.504,
      0.0,
      0.0,
      0.25,
      6.0,
      3.0,
      24.292,
      0.25,
      97.1682,
      0.0,
      0.0,
      0.25,
      7.0,
      1.0,
      97.5,
      0.25,
      390.0,
      0.0,
      0.0,
      0.25,
      8.0,
      20.0,
      24.292,
      0.25,
      97.1682,
      0.0,
      0.0,
      0.25,
      9.0,
      21.0,
      24.292,
      0.25,
      97.1682,
      0.0,
      0.0,
      0.25,
      10.0,
      22.0,
      24.292,
      0.25,
      97.1682,
      0.0,
      0.0,
      0.25,
      11.0,
      3.0,
      24.292,
      0.25,
      97.1682,
      0.0,
      0.0,
      0.25,
      0.0
    ],
    "cell_3": [
      0.0,
      1.0,
      1.0,
      1.0,
      2.0,
      1.0,
      2.0,
      1.0,
      89.9998,
      1.0,
      85.9978,
      1.0,
      3.0,
      2.0,
      1.0,
      1.0,
      2.0,
      0.5,
      4.0,
      1.0,
      89.9998,
      89.9978,
      1.0,
      5.0,
      2.0,
      0.75,
      3.0,
      0.25,
      6.0,
      3.0,
      0.25,
      1.0,
      0.25,
      7.0,
      1.0,
      89.9998,
      1.0,
      89.9978,
      85.9978,
      1.0,
      8.0,
      20.0,
      0.25,
      0.25,
      1.0,
      0.5,
      0.25,
      9.0,
      21.0,
      0.25,
      0.25,
      1.0,
      0.5,
      0.25,
      10.0,
      22.0,
      0.25,
      0.25,
      1.0,
      0.5,
      0.25,
      11.0,
      3.0,
      0.25,
      0.25,
      1.0,
      0.5,
      0.25,
      0.0,
      0.0
    ],
    "cell_4": [
      0.0,
      1.0,
      1.0,
      1.0,
      2.0,
      1.0,
      2.0,
      1.0,
      89.9998,
      1.0,
      85.9978,
      1.0,
      3.0,
      2.0,
      1.0,
      1.0,
      2.0,
      0.5,
      4.0,
      1.0,
      89.9998,
      89.9978,
      1.0,
      5.0,
      2.0,
      0.75,
      3.0,
      0.25,
      6.0,
      3.0,
      0.25,
      1.0,
      0.25,
      7.0,
      1.0,
      89.9998,
      1.0,
      89.9978,
      85.9978,
      1.0,
      8.0,
      20.0,
      0.25,
      0.25,
      1.0,
      0.5,
      0.25,
      9.0,
      21.0,
      0.25,
      0.25,
      1.0,
      0.5,
      0.25,
      10.0,
      22.0,
      0.25,
      0.25,
      1.0,
      0.5,
      0.25,
      11.0,
      3.0,
      0.25,
      0.25,
      1.0,
      0.5,
      0.25
    ]
  },
  "metadata": {
    "notebook_path": "layeredModel/lqn_twotasks.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 5,
    "code_cells": 5,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}