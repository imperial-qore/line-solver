{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:25:49.154074Z",
          "start_time": "2025-07-30T22:25:49.151771Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:13:49.174692Z",
          "iopub.execute_input": "2026-01-02T14:13:49.174812Z",
          "shell.execute_reply": "2026-01-02T14:13:49.940628Z",
          "iopub.status.idle": "2026-01-02T14:13:49.941011Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "# Create network model\nmodel = Network('model')\n\n# Block 1: Create nodes\nnode = np.empty(2, dtype=object)\nnode[0] = Delay(model, 'Delay')\nnode[1] = Queue(model, 'Queue1', SchedStrategy.PSPRIO)  # Preemptive Static Priority",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:25:49.208013Z",
          "start_time": "2025-07-30T22:25:49.204439Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:13:49.942477Z",
          "iopub.execute_input": "2026-01-02T14:13:49.942718Z",
          "iopub.status.idle": "2026-01-02T14:13:49.956062Z",
          "shell.execute_reply": "2026-01-02T14:13:49.955664Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "# Block 2: Create job classes with different priorities\njobclass = np.empty(2, dtype=object)\njobclass[0] = ClosedClass(model, 'Class1', 2, node[0], 0)  # 2 jobs, priority 0 (low)\njobclass[1] = ClosedClass(model, 'Class2', 2, node[0], 1)  # 2 jobs, priority 1 (high)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:25:49.263182Z",
          "start_time": "2025-07-30T22:25:49.261235Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:13:49.957472Z",
          "iopub.execute_input": "2026-01-02T14:13:49.957665Z",
          "iopub.status.idle": "2026-01-02T14:13:49.961998Z",
          "shell.execute_reply": "2026-01-02T14:13:49.961480Z"
        }
      },
      "outputs": [],
      "execution_count": 3
    },
    "cell_3": {
      "cell_type": "code",
      "source": "# Block 3: Set service time distributions - following MATLAB specification exactly\n# Delay station (think time)\nnode[0].set_service(jobclass[0], Erlang(3, 2))  # Erlang(k=3, rate=2)\nnode[0].set_service(jobclass[1], HyperExp(0.5, 3.0, 10.0))  # HyperExp(p=0.5, rate1=3.0, rate2=10.0)\n\n# PSPRIO Queue station\nnode[1].set_service(jobclass[0], HyperExp(0.1, 1.0, 10.0))  # HyperExp(p=0.1, rate1=1.0, rate2=10.0)\nnode[1].set_service(jobclass[1], Exp(1))  # Exponential with rate=1",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:25:49.313698Z",
          "start_time": "2025-07-30T22:25:49.311430Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:13:49.963600Z",
          "iopub.execute_input": "2026-01-02T14:13:49.963830Z",
          "shell.execute_reply": "2026-01-02T14:13:49.994294Z",
          "iopub.status.idle": "2026-01-02T14:13:49.994804Z"
        }
      },
      "outputs": [],
      "execution_count": 4
    },
    "cell_4": {
      "cell_type": "code",
      "source": "# Block 4: Set routing (serial routing for both classes) - following MATLAB specification exactly\nP = model.init_routing_matrix()\n# P{1} = Network.serial_routing(node) equivalent for jobclass[0]\nP.set(jobclass[0], jobclass[0], node[0], node[1], 1.0)  # Delay -> Queue1\nP.set(jobclass[0], jobclass[0], node[1], node[0], 1.0)  # Queue1 -> Delay\n# P{2} = Network.serial_routing(node) equivalent for jobclass[1]\nP.set(jobclass[1], jobclass[1], node[0], node[1], 1.0)  # Delay -> Queue1\nP.set(jobclass[1], jobclass[1], node[1], node[0], 1.0)  # Queue1 -> Delay\nmodel.link(P)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:25:49.363018Z",
          "start_time": "2025-07-30T22:25:49.360686Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:13:49.997179Z",
          "iopub.execute_input": "2026-01-02T14:13:49.997383Z",
          "iopub.status.idle": "2026-01-02T14:13:50.011006Z",
          "shell.execute_reply": "2026-01-02T14:13:50.009376Z"
        }
      },
      "outputs": [],
      "execution_count": 5
    },
    "cell_5": {
      "cell_type": "code",
      "source": "# Model information\nM = model.get_number_of_stations()\nK = model.get_number_of_classes()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:25:49.411549Z",
          "start_time": "2025-07-30T22:25:49.409737Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:13:50.012785Z",
          "iopub.execute_input": "2026-01-02T14:13:50.013061Z",
          "shell.execute_reply": "2026-01-02T14:13:50.015386Z",
          "iopub.status.idle": "2026-01-02T14:13:50.015830Z"
        }
      },
      "outputs": [],
      "execution_count": 6
    },
    "cell_6": {
      "cell_type": "code",
      "source": "# CTMC removed - not tested in JAR for prio_psprio\n# solver_ctmc = CTMC(model)\n# avg_table_ctmc = solver_ctmc.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:25:49.484936Z",
          "start_time": "2025-07-30T22:25:49.461688Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:13:50.017169Z",
          "iopub.execute_input": "2026-01-02T14:13:50.017342Z",
          "shell.execute_reply": "2026-01-02T14:13:50.018766Z",
          "iopub.status.idle": "2026-01-02T14:13:50.019172Z"
        }
      },
      "outputs": [],
      "execution_count": 7
    },
    "cell_7": {
      "cell_type": "code",
      "source": "# Solve with JMT simulation - skip due to PSPRIO JMT support issue\nprint(\"\\\\nSOLVER: JMT (skipped - PSPRIO scheduling not supported in JMT)\")\nprint(\"JMT cannot handle PSPRIO scheduling strategy - ClassNotFoundException for EPSStrategyPriority\")\n# solver_jmt = JMT(model, seed=23000, verbose=VerboseLevel.STD, samples=5000)\n# avg_table_jmt = solver_jmt.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:25:49.515084Z",
          "start_time": "2025-07-30T22:25:49.512820Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:13:50.020957Z",
          "iopub.execute_input": "2026-01-02T14:13:50.021204Z",
          "iopub.status.idle": "2026-01-02T14:13:50.024834Z",
          "shell.execute_reply": "2026-01-02T14:13:50.023657Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\\nSOLVER: JMT (skipped - PSPRIO scheduling not supported in JMT)\nJMT cannot handle PSPRIO scheduling strategy - ClassNotFoundException for EPSStrategyPriority\n"
          }
        }
      ],
      "execution_count": 8
    },
    "cell_8": {
      "cell_type": "code",
      "source": "# SSA with seed=23000, samples=5000, verbose=SILENT to match JAR test\nsolver_ssa = SSA(model, seed=23000, samples=5000, verbose=VerboseLevel.SILENT)\navg_table_ssa = solver_ssa.avg_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:25:49.897055Z",
          "start_time": "2025-07-30T22:25:49.572233Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:13:50.026516Z",
          "iopub.execute_input": "2026-01-02T14:13:50.026714Z",
          "iopub.status.idle": "2026-01-02T14:13:50.732238Z",
          "shell.execute_reply": "2026-01-02T14:13:50.731918Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "Priority: highest=Class1, lowest=Class2\n",
            "numerical_values": [
              1.0,
              2.0
            ]
          }
        }
      ],
      "execution_count": 9
    }
  },
  "numerical_summary": {
    "cell_1": [
      1.0,
      2.0,
      0.0,
      1.0,
      1.0
    ],
    "cell_7": [
      23000.0,
      5000.0
    ],
    "cell_8": [
      1.0,
      2.0,
      23000.0,
      5000.0,
      23000.0,
      5000.0
    ]
  },
  "metadata": {
    "notebook_path": "prioModel/prio_psprio.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 9,
    "code_cells": 9,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}