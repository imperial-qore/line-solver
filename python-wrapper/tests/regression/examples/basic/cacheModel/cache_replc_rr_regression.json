{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nimport numpy as np\n\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:08:29.992449Z",
          "start_time": "2025-07-30T22:08:29.003009Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:12.392548Z",
          "iopub.execute_input": "2026-01-02T14:08:12.392629Z",
          "shell.execute_reply": "2026-01-02T14:08:13.196969Z",
          "iopub.status.idle": "2026-01-02T14:08:13.197272Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "model = Network('model')\n\nn = 5  # number of items\nm = 2  # cache capacity\n\nsource = Source(model, 'Source')\ncacheNode = Cache(model, 'Cache', n, m, ReplacementStrategy.RR)\nsink = Sink(model, 'Sink')\n\njobClass = OpenClass(model, 'InitClass', 0)\nhitClass = OpenClass(model, 'HitClass', 0)\nmissClass = OpenClass(model, 'MissClass', 0)\n\nsource.set_arrival(jobClass, Exp(2))\n\n#pAccess = DiscreteSampler((1/n)*ones(1,n))  # uniform item references\npAccess = Zipf(1.4, n)  # Zipf-like item references\ncacheNode.set_read(jobClass, pAccess)\n\ncacheNode.set_hit_class(jobClass, hitClass)\ncacheNode.set_miss_class(jobClass, missClass)\n\nP = model.init_routing_matrix()\nP.set(jobClass, jobClass, source, cacheNode, 1.0)\nP.set(hitClass, hitClass, cacheNode, sink, 1.0)\nP.set(missClass, missClass, cacheNode, sink, 1.0)\n\nmodel.link(P)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:08:30.130466Z",
          "start_time": "2025-07-30T22:08:30.042688Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:13.198405Z",
          "iopub.execute_input": "2026-01-02T14:08:13.198543Z",
          "iopub.status.idle": "2026-01-02T14:08:13.258180Z",
          "shell.execute_reply": "2026-01-02T14:08:13.257916Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "solver = np.empty(4, dtype=object)\nAvgTable = np.empty(4, dtype=object)\n\nsolver[0] = CTMC(model, keep=False, cutoff=1, seed=1)\nAvgTable[0] = solver[0].avg_node_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:08:30.371031Z",
          "start_time": "2025-07-30T22:08:30.140497Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:13.259197Z",
          "iopub.execute_input": "2026-01-02T14:08:13.259342Z",
          "iopub.status.idle": "2026-01-02T14:08:13.361772Z",
          "shell.execute_reply": "2026-01-02T14:08:13.361410Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "     Node   JobClass  QLen  Util  RespT  ResidT    ArvR    Tput\n0  Source  InitClass   0.0   0.0    0.0     0.0  0.0000  2.0000\n3   Cache  InitClass   0.0   0.0    0.0     0.0  2.0000  0.0000\n4   Cache   HitClass   0.0   0.0    0.0     0.0  0.0000  1.1808\n5   Cache  MissClass   0.0   0.0    0.0     0.0  0.0000  0.8192\n7    Sink   HitClass   0.0   0.0    0.0     0.0  1.1808  0.0000\n8    Sink  MissClass   0.0   0.0    0.0     0.0  0.8192  0.0000\n",
            "numerical_values": [
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              2.0,
              3.0,
              0.0,
              0.0,
              0.0,
              0.0,
              2.0,
              0.0,
              4.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.1808,
              5.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.8192,
              7.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.1808,
              0.0,
              8.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.8192,
              0.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stderr",
            "text": "WARNING: [Object[]] CTMC solver using state space cutoff = 1 for open/mixed model. State space truncation may cause inaccurate results. Consider varying cutoff to assess sensitivity.\n",
            "numerical_values": [
              1.0
            ]
          }
        }
      ],
      "execution_count": 3
    },
    "cell_3": {
      "cell_type": "code",
      "source": "model.reset()\nsolver[1] = SSA(model, samples=10000, verbose=True, method=\"serial\", seed=1)\nAvgTable[1] = solver[1].avg_node_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:08:31.207482Z",
          "start_time": "2025-07-30T22:08:30.380892Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:13.362626Z",
          "iopub.execute_input": "2026-01-02T14:08:13.362738Z",
          "shell.execute_reply": "2026-01-02T14:08:14.290657Z",
          "iopub.status.idle": "2026-01-02T14:08:14.290995Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "SSA samples:      2 \b\b\b\b\b\b\b    100\b\b\b\b\b\b\b    200\b\b\b\b\b\b\b    300\b\b\b\b\b\b\b    400\b\b\b\b\b\b\b    500\b\b\b\b\b\b\b    600\b\b\b\b\b\b\b    700\b\b\b\b\b\b\b    800\b\b\b\b\b\b\b    900\b\b\b\b\b\b\b   1000\b\b\b\b\b\b\b   1100\b\b\b\b\b\b\b   1200\b\b\b\b\b\b\b   1300\b\b\b\b\b\b\b   1400\b\b\b\b\b\b\b   1500",
            "numerical_values": [
              2.0,
              100.0,
              200.0,
              300.0,
              400.0,
              500.0,
              600.0,
              700.0,
              800.0,
              900.0,
              1000.0,
              1100.0,
              1200.0,
              1300.0,
              1400.0,
              1500.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\b\b\b\b\b\b\b   1600\b\b\b\b\b\b\b   1700\b\b\b\b\b\b\b   1800\b\b\b\b\b\b\b   1900\b\b\b\b\b\b\b   2000\b\b\b\b\b\b\b   2100\b\b\b\b\b\b\b   2200\b\b\b\b\b\b\b   2300",
            "numerical_values": [
              1600.0,
              1700.0,
              1800.0,
              1900.0,
              2000.0,
              2100.0,
              2200.0,
              2300.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\b\b\b\b\b\b\b   2400\b\b\b\b\b\b\b   2500\b\b\b\b\b\b\b   2600\b\b\b\b\b\b\b   2700\b\b\b\b\b\b\b   2800\b\b\b\b\b\b\b   2900\b\b\b\b\b\b\b   3000\b\b\b\b\b\b\b   3100\b\b\b\b\b\b\b   3200\b\b\b\b\b\b\b   3300\b\b\b\b\b\b\b   3400\b\b\b\b\b\b\b   3500\b\b\b\b\b\b\b   3600\b\b\b\b\b\b\b   3700\b\b\b\b\b\b\b   3800\b\b\b\b\b\b\b   3900\b\b\b\b\b\b\b   4000",
            "numerical_values": [
              2400.0,
              2500.0,
              2600.0,
              2700.0,
              2800.0,
              2900.0,
              3000.0,
              3100.0,
              3200.0,
              3300.0,
              3400.0,
              3500.0,
              3600.0,
              3700.0,
              3800.0,
              3900.0,
              4000.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\b\b\b\b\b\b\b   4100\b\b\b\b\b\b\b   4200\b\b\b\b\b\b\b   4300\b\b\b\b\b\b\b   4400\b\b\b\b\b\b\b   4500\b\b\b\b\b\b\b   4600\b\b\b\b\b\b\b   4700\b\b\b\b\b\b\b   4800\b\b\b\b\b\b\b   4900\b\b\b\b\b\b\b   5000\b\b\b\b\b\b\b   5100",
            "numerical_values": [
              4100.0,
              4200.0,
              4300.0,
              4400.0,
              4500.0,
              4600.0,
              4700.0,
              4800.0,
              4900.0,
              5000.0,
              5100.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\b\b\b\b\b\b\b   5200\b\b\b\b\b\b\b   5300\b\b\b\b\b\b\b   5400\b\b\b\b\b\b\b   5500\b\b\b\b\b\b\b   5600\b\b\b\b\b\b\b   5700\b\b\b\b\b\b\b   5800\b\b\b\b\b\b\b   5900\b\b\b\b\b\b\b   6000\b\b\b\b\b\b\b   6100\b\b\b\b\b\b\b   6200\b\b\b\b\b\b\b   6300\b\b\b\b\b\b\b   6400\b\b\b\b\b\b\b   6500\b\b\b\b\b\b\b   6600\b\b\b\b\b\b\b   6700\b\b\b\b\b\b\b   6800\b\b\b\b\b\b\b   6900\b\b\b\b\b\b\b   7000\b\b\b\b\b\b\b   7100",
            "numerical_values": [
              5200.0,
              5300.0,
              5400.0,
              5500.0,
              5600.0,
              5700.0,
              5800.0,
              5900.0,
              6000.0,
              6100.0,
              6200.0,
              6300.0,
              6400.0,
              6500.0,
              6600.0,
              6700.0,
              6800.0,
              6900.0,
              7000.0,
              7100.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\b\b\b\b\b\b\b   7200\b\b\b\b\b\b\b   7300\b\b\b\b\b\b\b   7400\b\b\b\b\b\b\b   7500\b\b\b\b\b\b\b   7600\b\b\b\b\b\b\b   7700\b\b\b\b\b\b\b   7800\b\b\b\b\b\b\b   7900\b\b\b\b\b\b\b   8000\b\b\b\b\b\b\b   8100\b\b\b\b\b\b\b   8200\b\b\b\b\b\b\b   8300\b\b\b\b\b\b\b   8400\b\b\b\b\b\b\b   8500\b\b\b\b\b\b\b   8600\b\b\b\b\b\b\b   8700\b\b\b\b\b\b\b   8800\b\b\b\b\b\b\b   8900\b\b\b\b\b\b\b   9000\b\b\b\b\b\b\b   9100\b\b\b\b\b\b\b   9200\b\b\b\b\b\b\b   9300\b\b\b\b\b\b\b   9400\b\b\b\b\b\b\b   9500\b\b\b\b\b\b\b   9600\b\b\b\b\b\b\b   9700\b\b\b\b\b\b\b   9800",
            "numerical_values": [
              7200.0,
              7300.0,
              7400.0,
              7500.0,
              7600.0,
              7700.0,
              7800.0,
              7900.0,
              8000.0,
              8100.0,
              8200.0,
              8300.0,
              8400.0,
              8500.0,
              8600.0,
              8700.0,
              8800.0,
              8900.0,
              9000.0,
              9100.0,
              9200.0,
              9300.0,
              9400.0,
              9500.0,
              9600.0,
              9700.0,
              9800.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\b\b\b\b\b\b\b   9900\b\b\b\b\b\b\b  10000\n",
            "numerical_values": [
              9900.0,
              10000.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "     Node   JobClass  QLen  Util  RespT  ResidT    ArvR    Tput\n0  Source  InitClass   0.0   0.0    0.0     0.0  0.0000  2.0000\n3   Cache  InitClass   0.0   0.0    0.0     0.0  2.0000  0.0000\n4   Cache   HitClass   0.0   0.0    0.0     0.0  0.0000  1.1633\n5   Cache  MissClass   0.0   0.0    0.0     0.0  0.0000  0.8367\n7    Sink   HitClass   0.0   0.0    0.0     0.0  1.1633  0.0000\n8    Sink  MissClass   0.0   0.0    0.0     0.0  0.8367  0.0000\n",
            "numerical_values": [
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              2.0,
              3.0,
              0.0,
              0.0,
              0.0,
              0.0,
              2.0,
              0.0,
              4.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.1633,
              5.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.8367,
              7.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.1633,
              0.0,
              8.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.8367,
              0.0
            ]
          }
        }
      ],
      "execution_count": 4
    },
    "cell_4": {
      "cell_type": "code",
      "source": "model.reset()\nsolver[2] = MVA(model, seed=1)\nAvgTable[2] = solver[2].avg_node_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:08:31.233942Z",
          "start_time": "2025-07-30T22:08:31.217889Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:14.291925Z",
          "iopub.execute_input": "2026-01-02T14:08:14.292031Z",
          "shell.execute_reply": "2026-01-02T14:08:14.304198Z",
          "iopub.status.idle": "2026-01-02T14:08:14.304603Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "     Node   JobClass  QLen  Util  RespT  ResidT    ArvR    Tput\n0  Source  InitClass   0.0   0.0    0.0     0.0  0.0000  2.0000\n3   Cache  InitClass   0.0   0.0    0.0     0.0  2.0000  0.0000\n4   Cache   HitClass   0.0   0.0    0.0     0.0  0.0000  1.1127\n5   Cache  MissClass   0.0   0.0    0.0     0.0  0.0000  0.8873\n7    Sink   HitClass   0.0   0.0    0.0     0.0  1.1127  0.0000\n8    Sink  MissClass   0.0   0.0    0.0     0.0  0.8873  0.0000\n",
            "numerical_values": [
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              2.0,
              3.0,
              0.0,
              0.0,
              0.0,
              0.0,
              2.0,
              0.0,
              4.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.1127,
              5.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.8873,
              7.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.1127,
              0.0,
              8.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.8873,
              0.0
            ]
          }
        }
      ],
      "execution_count": 5
    },
    "cell_5": {
      "cell_type": "code",
      "source": "model.reset()\nsolver[3] = NC(model, seed=1)\nAvgTable[3] = solver[3].avg_node_table()\n\nhitRatio = cacheNode.hit_ratio()\nmissRatio = cacheNode.miss_ratio()\nprint(f\"hitRatio = {hitRatio}\")\nprint(f\"missRatio = {missRatio}\")",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-30T22:08:31.326898Z",
          "start_time": "2025-07-30T22:08:31.279723Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:08:14.305636Z",
          "iopub.execute_input": "2026-01-02T14:08:14.305755Z",
          "shell.execute_reply": "2026-01-02T14:08:14.321217Z",
          "iopub.status.idle": "2026-01-02T14:08:14.321548Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "     Node   JobClass  QLen  Util  RespT  ResidT    ArvR    Tput\n0  Source  InitClass   0.0   0.0    0.0     0.0  0.0000  2.0000\n3   Cache  InitClass   0.0   0.0    0.0     0.0  2.0000  0.0000\n4   Cache   HitClass   0.0   0.0    0.0     0.0  0.0000  1.1722\n5   Cache  MissClass   0.0   0.0    0.0     0.0  0.0000  0.8278\n7    Sink   HitClass   0.0   0.0    0.0     0.0  1.1722  0.0000\n8    Sink  MissClass   0.0   0.0    0.0     0.0  0.8278  0.0000\nhitRatio = [[0.58609163 0.         0.        ]]\nmissRatio = [[0.41390837 1.         1.        ]]\n",
            "numerical_values": [
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              2.0,
              3.0,
              0.0,
              0.0,
              0.0,
              0.0,
              2.0,
              0.0,
              4.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.1722,
              5.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.8278,
              7.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.1722,
              0.0,
              8.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.8278,
              0.0,
              0.58609163,
              0.0,
              0.0,
              0.41390837,
              1.0,
              1.0
            ]
          }
        }
      ],
      "execution_count": 6
    }
  },
  "numerical_summary": {
    "cell_2": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      2.0,
      3.0,
      0.0,
      0.0,
      0.0,
      0.0,
      2.0,
      0.0,
      4.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.1808,
      5.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.8192,
      7.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.1808,
      0.0,
      8.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.8192,
      0.0,
      1.0,
      4.0,
      4.0,
      0.0,
      1.0,
      1.0,
      0.0,
      0.0
    ],
    "cell_3": [
      2.0,
      100.0,
      200.0,
      300.0,
      400.0,
      500.0,
      600.0,
      700.0,
      800.0,
      900.0,
      1000.0,
      1100.0,
      1200.0,
      1300.0,
      1400.0,
      1500.0,
      1600.0,
      1700.0,
      1800.0,
      1900.0,
      2000.0,
      2100.0,
      2200.0,
      2300.0,
      2400.0,
      2500.0,
      2600.0,
      2700.0,
      2800.0,
      2900.0,
      3000.0,
      3100.0,
      3200.0,
      3300.0,
      3400.0,
      3500.0,
      3600.0,
      3700.0,
      3800.0,
      3900.0,
      4000.0,
      4100.0,
      4200.0,
      4300.0,
      4400.0,
      4500.0,
      4600.0,
      4700.0,
      4800.0,
      4900.0,
      5000.0,
      5100.0,
      5200.0,
      5300.0,
      5400.0,
      5500.0,
      5600.0,
      5700.0,
      5800.0,
      5900.0,
      6000.0,
      6100.0,
      6200.0,
      6300.0,
      6400.0,
      6500.0,
      6600.0,
      6700.0,
      6800.0,
      6900.0,
      7000.0,
      7100.0,
      7200.0,
      7300.0,
      7400.0,
      7500.0,
      7600.0,
      7700.0,
      7800.0,
      7900.0,
      8000.0,
      8100.0,
      8200.0,
      8300.0,
      8400.0,
      8500.0,
      8600.0,
      8700.0,
      8800.0,
      8900.0,
      9000.0,
      9100.0,
      9200.0,
      9300.0,
      9400.0,
      9500.0,
      9600.0,
      9700.0,
      9800.0,
      9900.0,
      10000.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      2.0,
      3.0,
      0.0,
      0.0,
      0.0,
      0.0,
      2.0,
      0.0,
      4.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.1633,
      5.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.8367,
      7.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.1633,
      0.0,
      8.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.8367,
      0.0,
      1.0,
      10000.0,
      1.0,
      1.0,
      1.0
    ],
    "cell_4": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      2.0,
      3.0,
      0.0,
      0.0,
      0.0,
      0.0,
      2.0,
      0.0,
      4.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.1127,
      5.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.8873,
      7.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.1127,
      0.0,
      8.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.8873,
      0.0,
      2.0,
      1.0,
      2.0,
      2.0
    ],
    "cell_5": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      2.0,
      3.0,
      0.0,
      0.0,
      0.0,
      0.0,
      2.0,
      0.0,
      4.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.1722,
      5.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.8278,
      7.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.1722,
      0.0,
      8.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.8278,
      0.0,
      0.58609163,
      0.0,
      0.0,
      0.41390837,
      1.0,
      1.0,
      3.0,
      1.0,
      3.0,
      3.0
    ]
  },
  "metadata": {
    "notebook_path": "cacheModel/cache_replc_rr.ipynb",
    "source_dir": "examples/basic",
    "total_cells": 6,
    "code_cells": 6,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}