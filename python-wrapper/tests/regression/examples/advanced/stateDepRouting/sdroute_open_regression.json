{
  "cell_content": {
    "cell_0": {
      "cell_type": "code",
      "source": "from line_solver import *\nimport numpy as np\nGlobalConstants.set_verbose(VerboseLevel.STD)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-15T22:50:24.310027Z",
          "start_time": "2025-07-15T22:50:19.463632Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:15:43.522856Z",
          "iopub.execute_input": "2026-01-02T14:15:43.522990Z",
          "shell.execute_reply": "2026-01-02T14:15:44.355678Z",
          "iopub.status.idle": "2026-01-02T14:15:44.356115Z"
        }
      },
      "outputs": [],
      "execution_count": 1
    },
    "cell_1": {
      "cell_type": "code",
      "source": "model = Network('myModel')\n\n# Block 1: nodes\nsource = Source(model, 'Source')\nrouter = Router(model, 'Router')\nqueue1 = Queue(model, 'Queue1', SchedStrategy.FCFS)\nqueue2 = Queue(model, 'Queue2', SchedStrategy.FCFS)\nsink = Sink(model, 'Sink')\n\n# Block 2: classes\noclass = OpenClass(model, 'Class1')\nsource.set_arrival(oclass, Exp(1.0))\nqueue1.set_service(oclass, Exp(2.0))\nqueue2.set_service(oclass, Exp(2.0))\n\n# Block 3: topology\nmodel.add_link(source, router)\nmodel.add_link(router, queue1)\nmodel.add_link(router, queue2)\nmodel.add_link(queue1, sink)\nmodel.add_link(queue2, sink)\n\nrouter.set_routing(oclass, RoutingStrategy.RROBIN)",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-15T22:50:24.700631Z",
          "start_time": "2025-07-15T22:50:24.594046Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:15:44.357598Z",
          "iopub.execute_input": "2026-01-02T14:15:44.357816Z",
          "iopub.status.idle": "2026-01-02T14:15:44.377250Z",
          "shell.execute_reply": "2026-01-02T14:15:44.376873Z"
        }
      },
      "outputs": [],
      "execution_count": 2
    },
    "cell_2": {
      "cell_type": "code",
      "source": "solver = np.array([], dtype=object)\nsolver = np.append(solver, JMT(model, seed=23000))\nsolver = np.append(solver, CTMC(model, cutoff=5))\n\nAvgTable = np.empty(len(solver), dtype=object)\nfor s in range(len(solver)):\n    print(f'\\nSOLVER: {solver[s].get_name()}')\n    AvgTable[s] = solver[s].avg_node_table()",
      "metadata": {
        "ExecuteTime": {
          "end_time": "2025-07-15T22:50:34.481595Z",
          "start_time": "2025-07-15T22:50:24.805683Z"
        },
        "execution": {
          "iopub.status.busy": "2026-01-02T14:15:44.378925Z",
          "iopub.execute_input": "2026-01-02T14:15:44.379131Z",
          "shell.execute_reply": "2026-01-02T14:15:45.563852Z",
          "iopub.status.idle": "2026-01-02T14:15:45.564160Z"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "\nSOLVER: SolverJMT\nJMT Model: /tmp/workspace/jsim/8926289881492249950/jmodel.jsim\n",
            "numerical_values": [
              8.92628988149225e+18
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stdout",
            "text": "     Node JobClass    QLen    Util   RespT  ResidT   ArvR   Tput\n0  Source   Class1  0.0000  0.0000  0.0000  0.0000  0.000  1.012\n1  Router   Class1  0.0000  0.0000  0.0000  0.0000  1.012  1.012\n2  Queue1   Class1  0.3024  0.2622  0.5761  0.5761  0.506  0.506\n3  Queue2   Class1  0.2932  0.2536  0.5695  0.2848  0.506  0.506\n4    Sink   Class1  0.0000  0.0000  0.0000  0.0000  1.012  0.000\n\nSOLVER: SolverCTMC\n     Node JobClass    QLen    Util   RespT  ResidT    ArvR    Tput\n0  Source   Class1  0.0000  0.0000  0.0000  0.0000  0.0000  0.9967\n1  Router   Class1  0.0000  0.0000  0.0000  0.0000  0.9967  0.9967\n2  Queue1   Class1  0.3295  0.2492  0.6611  0.6611  0.4983  0.4983\n3  Queue2   Class1  0.3295  0.2492  0.6611  0.3306  0.4983  0.4983\n4    Sink   Class1  0.0000  0.0000  0.0000  0.0000  0.9967  0.0000\n",
            "numerical_values": [
              0.0,
              1.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.012,
              1.0,
              1.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.012,
              1.012,
              2.0,
              1.0,
              1.0,
              0.3024,
              0.2622,
              0.5761,
              0.5761,
              0.506,
              0.506,
              3.0,
              2.0,
              1.0,
              0.2932,
              0.2536,
              0.5695,
              0.2848,
              0.506,
              0.506,
              4.0,
              1.0,
              0.0,
              0.0,
              0.0,
              0.0,
              1.012,
              0.0,
              0.0,
              1.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.9967,
              1.0,
              1.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.9967,
              0.9967,
              2.0,
              1.0,
              1.0,
              0.3295,
              0.2492,
              0.6611,
              0.6611,
              0.4983,
              0.4983,
              3.0,
              2.0,
              1.0,
              0.3295,
              0.2492,
              0.6611,
              0.3306,
              0.4983,
              0.4983,
              4.0,
              1.0,
              0.0,
              0.0,
              0.0,
              0.0,
              0.9967,
              0.0
            ]
          }
        },
        {
          "output_type": "stream",
          "execution_count": null,
          "metadata": {},
          "content": {
            "stream_name": "stderr",
            "text": "WARNING: [Object[]] CTMC solver using state space cutoff = 5 for open/mixed model. State space truncation may cause inaccurate results. Consider varying cutoff to assess sensitivity.\n",
            "numerical_values": [
              5.0
            ]
          }
        }
      ],
      "execution_count": 3
    }
  },
  "numerical_summary": {
    "cell_2": [
      8.92628988149225e+18,
      0.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.012,
      1.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.012,
      1.012,
      2.0,
      1.0,
      1.0,
      0.3024,
      0.2622,
      0.5761,
      0.5761,
      0.506,
      0.506,
      3.0,
      2.0,
      1.0,
      0.2932,
      0.2536,
      0.5695,
      0.2848,
      0.506,
      0.506,
      4.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      1.012,
      0.0,
      0.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.9967,
      1.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.9967,
      0.9967,
      2.0,
      1.0,
      1.0,
      0.3295,
      0.2492,
      0.6611,
      0.6611,
      0.4983,
      0.4983,
      3.0,
      2.0,
      1.0,
      0.3295,
      0.2492,
      0.6611,
      0.3306,
      0.4983,
      0.4983,
      4.0,
      1.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.9967,
      0.0,
      5.0,
      23000.0,
      5.0
    ]
  },
  "metadata": {
    "notebook_path": "stateDepRouting/sdroute_open.ipynb",
    "source_dir": "examples/advanced",
    "total_cells": 3,
    "code_cells": 3,
    "generation_info": {
      "script_version": "2.0",
      "extraction_method": "comprehensive"
    }
  }
}